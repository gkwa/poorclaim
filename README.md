I don't know neo4j but it seems like it might be useful.

These snippets were generated by ChatGPT and adapted to my needs.

For me, learning cypher in the context of cooking makes it concrete.

Don't make me learn graph theory or stare at neo4j documenation for
hours, just give me some examples I can copy/paste.

Later if it turns out using neo4j is doing what I need, then I can
properly pour over the manual to learn what chatgpt did to generate
these snippts.

Please, just give me a shitton of examples that I can
copy/paste...maybe later I'll read the manual.

I can't cook, but I'm annoyed with paying outrageous resturant prices
and I love thai food.

I don't spend enough time in the seattle international district to
know my way around, but I expect I can learn with enough repititon.

Data for this is generated from here
https://github.com/taylormonacelli/anythingflorida/blob/master/data.cypher

in repo
https://github.com/taylormonacelli/anythingflorida

Cheatsheet
https://memgraph.com/blog/cypher-cheat-sheet

https://www.google.com/search?q=cypher+cheat+sheet
* [list all nodes and relations](#list-all-nodes-and-relations)
* [list all products](#list-all-products)
* [list all products](#list-all-products-1)
* [find cumin in my list of products](#find-cumin-in-my-list-of-products)
* [list product entities with properties](#list-product-entities-with-properties)
* [list all product names sorted](#list-all-product-names-sorted)
* [list all product urls](#list-all-product-urls)
* [list unique node types](#list-unique-node-types)
* [list products with identical names](#list-products-with-identical-names)
* [count duplicates for each product](#count-duplicates-for-each-product)
* [count products with the same name](#count-products-with-the-same-name)
* [list all products with their urls](#list-all-products-with-their-urls)
* [count entities—Product or Store or Recipe—with the same name](#count-entitiesproduct-or-store-or-recipewith-the-same-name)
* [count entities—Product or Store or Recipe—with the same name as separate record](#count-entitiesproduct-or-store-or-recipewith-the-same-name-as-separate-record)
* [BAD: list relation entities with properties](#bad-list-relation-entities-with-properties)
* [list all relations](#list-all-relations)
* [find Vegan Thai Red Curry](#find-vegan-thai-red-curry)
* [find Thai Red Curry without specifying exact title](#find-thai-red-curry-without-specifying-exact-title)
* [find Thai Curry with regex](#find-thai-curry-with-regex)
* [find recipes with either Thai or Curry](#find-recipes-with-either-thai-or-curry)
* [find Thai Curry using cypher IN [] query format](#find-thai-curry-using-cypher-in--query-format)
* [find Thai Curry with multiple substings](#find-thai-curry-with-multiple-substings)
* [find Thai Curry with regex case insensitively](#find-thai-curry-with-regex-case-insensitively)
* [find Thai Curry with regex case insensitively, output full product details](#find-thai-curry-with-regex-case-insensitively-output-full-product-details)
* [list products by type](#list-products-by-type)
* [list products that I’ve not yet assiged a type to](#list-products-that-ive-not-yet-assiged-a-type-to)
* [list details about product urls](#list-details-about-product-urls)
* [BAD: tally products with associated brands](#bad-tally-products-with-associated-brands)
* [find products without associated brands](#find-products-without-associated-brands)
* [include product brands](#include-product-brands)
* [find products with non-alphanumeric names](#find-products-with-non-alphanumeric-names)
* [BAD: get non-empty product urls](#bad-get-non-empty-product-urls)
* [get products with non-empty url lists](#get-products-with-non-empty-url-lists)
* [Candlenuts…really?  What recipe calls for that?](#candlenutsreally--what-recipe-calls-for-that)
* [list products with at least one url](#list-products-with-at-least-one-url)
* [list product properties](#list-product-properties)
* [list PURCHASE-AT relation properties](#list-purchase-at-relation-properties)
* [list case-insensitive properties for all entities](#list-case-insensitive-properties-for-all-entities)
* [BAD: list properties for all entities](#bad-list-properties-for-all-entities)
* [GOOD: list properties across all entities](#good-list-properties-across-all-entities)
* [find products with stores for each](#find-products-with-stores-for-each)
* [list all products you can purchase at dummy store](#list-all-products-you-can-purchase-at-dummy-store)
* [list all products you can purchase at dummy store](#list-all-products-you-can-purchase-at-dummy-store-1)
* [find product purchasing info](#find-product-purchasing-info)
* [dammit this is tedious, how much cleanup remains?](#dammit-this-is-tedious-how-much-cleanup-remains)
* [list count of items not associated with a store](#list-count-of-items-not-associated-with-a-store)
* [BAD: items not associated with a store (count)](#bad-items-not-associated-with-a-store-count)
* [find purchasing info for 10 products](#find-purchasing-info-for-10-products)
* [BAD: list the entity type the property is assocted with](#bad-list-the-entity-type-the-property-is-assocted-with)
* [GOOD: list the entity type the property is assocted with](#good-list-the-entity-type-the-property-is-assocted-with)
* [list unique entities](#list-unique-entities)
* [list CONTAINS relationships](#list-contains-relationships)
* [list unique CONTAINS relationship properties](#list-unique-contains-relationship-properties)
* [list products with Google Drive photo urls](#list-products-with-google-drive-photo-urls)
* [GOOD: list relation entities and their properties](#good-list-relation-entities-and-their-properties)
* [identify stores for recipe ingredients](#identify-stores-for-recipe-ingredients)
* [find stores for Chicken Teriyaki ingredients](#find-stores-for-chicken-teriyaki-ingredients)
* [streamline shopping for recipes](#streamline-shopping-for-recipes)
* [minimize travel for recipe ingredients](#minimize-travel-for-recipe-ingredients)
* [BAD: remove duplicate ingredients](#bad-remove-duplicate-ingredients)
* [locate products with vegetable types](#locate-products-with-vegetable-types)
* [locate products with pea-related types](#locate-products-with-pea-related-types)
* [what recipes call for chicken stock?](#what-recipes-call-for-chicken-stock)
* [recipes that call for chicken stock](#recipes-that-call-for-chicken-stock)
* [find recipes that contain either carrots or beans](#find-recipes-that-contain-either-carrots-or-beans)
* [detecting unknown products in a recipe](#detecting-unknown-products-in-a-recipe)
* [recipe with unknown products](#recipe-with-unknown-products)
* [cleanup data, find recipes with unknown products](#cleanup-data-find-recipes-with-unknown-products)
* [fix data for a single recipe](#fix-data-for-a-single-recipe)
* [find stores for recipe ingredients](#find-stores-for-recipe-ingredients)
# list all nodes and relations

Not sure what a 'node' means other than that its not a 'relation'…I
think.

Either way, i have products, stores…things and 'relations entities' to
connect them.

``` example
MATCH (n) RETURN n;
```

Results:

``` example
{"n": {"name": "HWC Magazine", "urls": ["https://www.hwcmagazine.com"]}}
{"n": {"name": "Jamie", "urls": ["https://drivemehungry.com/zaru-soba-cold-soba-noodles/"]}}
{"n": {"name": "J. Kenji L\u00f3pez-Alt", "urls": [""]}}
{"n": {"name": "Joshua Weissman", "urls": ["https://www.youtube.com/@JoshuaWeissman"]}}
{"n": {"name": "Love and Lemons", "urls": ["https://www.loveandlemons.com/"]}}
{"n": {"name": "Marionskitchen", "ytb": "https://www.youtube.com/@Marionskitchen"}}
{"n": {"name": "Meghan Livingstone", "urls": ["https://www.meghanlivingstone.com/"]}}
{"n": {"name": "Monique Volz", "urls": ["https://www.ambitiouskitchen.com/"]}}
{"n": {"name": "Natasha Kravchuk", "urls": ["https://natashaskitchen.com/"]}}
{"n": {"name": "Pailin Chongchitnant", "urls": ["https://www.youtube.com/@PailinsKitchen", "https://hot-thai-kitchen.com/", "https://www.google.com/search?sca_esv=579544099\u0026sxsrf=AM9HkKlG2TJDAMfP4SZwsCFg3egPZCc3lw:1699153855825\u0026q=pailin+chongchitnant\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjs2Pqv8auCAxXQJzQIHSXWC2MQ0pQJegQIExAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}}
# ...truncated to 10 for brevity
```

# list all products

``` example
MATCH (p:Product)
RETURN p;
```

Results:

``` example
{"p": {"name": "A.1. Sauce", "type": "A.1. Sauce"}}
{"p": {"name": "Allspice", "type": "Allspice"}}
{"p": {"name": "Almond Milk", "type": "Almond Milk"}}
{"p": {"name": "Almonds - bulk roasted or raw -- whichever is cheaper", "type": "Almonds"}}
{"p": {"name": "Angkor Cambodian Food Paste Lemongrass", "type": "Food Paste"}}
# ...truncated to 5 for brevity
```

# list all products

In the realm of cypher, the variable, denoted as 'p' or product, is a
matter of nomenclature flexibility, allowing for usage in both concise
or extensive forms, depending on the intricacies of the cypher context.

When engaged in protracted cypher queries, brevity in naming may be
favored.

However, when interfacing with the Golang driver and conveying results,
employing more elucidative names, such as 'product,' enhances the
readability of the Go code.

``` example
MATCH (product:Product)
RETURN product;
```

Results:

``` example
{"product": {"name": "A.1. Sauce", "type": "A.1. Sauce"}}
{"product": {"name": "Allspice", "type": "Allspice"}}
{"product": {"name": "Almond Milk", "type": "Almond Milk"}}
{"product": {"name": "Almonds - bulk roasted or raw -- whichever is cheaper", "type": "Almonds"}}
{"product": {"name": "Angkor Cambodian Food Paste Lemongrass", "type": "Food Paste"}}
# ...truncated to 5 for brevity
```

# find cumin in my list of products

``` example
MATCH (p:Product)
WHERE p.name = 'Ground Cumin'
RETURN p;
```

Results:

``` example
{"p": {"name": "Ground Cumin", "type": "Cumin"}}
```

# list product entities with properties

``` example
MATCH (n:Product) RETURN n;
```

Results:

``` example
{"n": {"name": "A.1. Sauce", "type": "A.1. Sauce"}}
{"n": {"name": "Allspice", "type": "Allspice"}}
{"n": {"name": "Almond Milk", "type": "Almond Milk"}}
{"n": {"name": "Almonds - bulk roasted or raw -- whichever is cheaper", "type": "Almonds"}}
{"n": {"name": "Angkor Cambodian Food Paste Lemongrass", "type": "Food Paste"}}
{"n": {"name": "Apple Cider Vinegar", "type": "Apple Cider Vinegar"}}
{"n": {"name": "Apples", "type": "Fruit"}}
{"n": {"name": "Aroy-D Coconut Milk", "type": "Coconut Milk", "urls": ["https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2", "https://www.templeofthai.com/food/coconut-milk/aroy-d-large", "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"]}}
{"n": {"brand": "Aroy D", "name": "Aroy-D Red Curry Paste", "type": "Curry Paste", "urls": ["https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste", "https://www.youtube.com/watch?v=GC7ccNKatVU"]}}
{"n": {"name": "Artichoke Hearts", "type": "Artichokes"}}
# ...truncated to 10 for brevity
```

# list all product names sorted

``` example
MATCH (p:Product)
RETURN p.name
ORDER BY toLower(p.name);
```

Results:

``` example
{"p.name": "A.1. Sauce"}
{"p.name": "ACT Restoring Mouthwash"}
{"p.name": "Adams Peanut Butter"}
{"p.name": "Allspice"}
{"p.name": "Almond Milk"}
# ...truncated to 5 for brevity
```

# list all product urls

``` example
MATCH (p:Product)
RETURN p.name AS ProductName, p.urls AS URLs;
```

Results:

``` example
{"ProductName": "A.1. Sauce", "URLs": null}
{"ProductName": "Allspice", "URLs": null}
{"ProductName": "Almond Milk", "URLs": null}
{"ProductName": "Almonds - bulk roasted or raw -- whichever is cheaper", "URLs": null}
{"ProductName": "Angkor Cambodian Food Paste Lemongrass", "URLs": null}
{"ProductName": "Apple Cider Vinegar", "URLs": null}
{"ProductName": "Apples", "URLs": null}
{"ProductName": "Aroy-D Coconut Milk", "URLs": ["https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2", "https://www.templeofthai.com/food/coconut-milk/aroy-d-large", "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"]}
{"ProductName": "Aroy-D Red Curry Paste", "URLs": ["https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste", "https://www.youtube.com/watch?v=GC7ccNKatVU"]}
{"ProductName": "Artichoke Hearts", "URLs": null}
# ...truncated to 10 for brevity
```

# list unique node types

[cypher DISTINCT](https://www.google.com/search?q=neo4j+cypher+DISTINCT)

[cypher
labels()](https://www.google.com/search?q=neo4j+cypher+labels+function)

``` example
MATCH (n)
RETURN DISTINCT labels(n) AS objectType
ORDER BY objectType;
```

Results:

``` example
{"objectType": []}
{"objectType": ["Person"]}
{"objectType": ["Product"]}
{"objectType": ["Recipe"]}
{"objectType": ["Store"]}
```

# list products with identical names

This reveals that I need to clean up duplicates. Listing two instances
of the same product name is harmful.

``` example
MATCH (p:Product)
WITH p.name AS productName, COLLECT(p) AS products
WHERE SIZE(products) > 1
RETURN productName, products;
```

Results:

``` example
{"productName": "Fish Sauce", "products": [{"brand": "Red Boat Premium", "name": "Fish Sauce", "type": "Fish Sauce"}, {"brand": "Squid", "name": "Fish Sauce", "type": "Fish Sauce", "urls": ["https://www.google.com/search?Squid+Fish+Sauce"]}]}
```

[cypher
COLLECT](https://www.google.com/search?q=neo4j+cypher+COLLECT+subquery)

# count duplicates for each product

``` example
MATCH (p:Product)
WITH p.name AS productName, COLLECT(p) AS products
WHERE SIZE(products) > 1
RETURN productName, COUNT(products) AS duplicateCount;
```

Results:

``` example
{"duplicateCount": 1, "productName": "Fish Sauce"}
```

# count products with the same name

In other words how much work do I have to do to cleanup my data?

``` example
MATCH (p:Product)
WITH p.name AS productName, COUNT(p) AS productCount
WHERE productCount > 1
RETURN COUNT(productCount) AS totalDuplicateProducts;
```

Results:

``` example
{"totalDuplicateProducts": 1}
```

# list all products with their urls

Each product can have 0 or more urls.

``` example
for each product
   for each url
      ...
```

``` example
MATCH (p:Product)
WITH p.name AS productName, p.urls AS productUrls
UNWIND productUrls AS url
RETURN productName, url;
```

Results:

``` example
{"productName": "Aroy-D Coconut Milk", "url": "https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2"}
{"productName": "Aroy-D Coconut Milk", "url": "https://www.templeofthai.com/food/coconut-milk/aroy-d-large"}
{"productName": "Aroy-D Coconut Milk", "url": "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"}
{"productName": "Aroy-D Red Curry Paste", "url": "https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste"}
{"productName": "Aroy-D Red Curry Paste", "url": "https://www.youtube.com/watch?v=GC7ccNKatVU"}
# ...truncated to 5 for brevity
```

[cypher UNWIND](https://www.google.com/search?q=neo4j+cypher+UNWIND)

[cypher UNWINDing a
list](https://neo4j.com/docs/cypher-manual/current/clauses/unwind/#unwind-unwinding-a-list)

# count entities—Product or Store or Recipe—with the same name

Ok, so it would be useful too to see what other items have the same
name. Thats probably an error.

``` example
// fail:
// MATCH (n)
// WITH n.name AS name, COUNT(n) AS nCount
// WHERE nCount > 1
// RETURN COUNT(nCount) AS totalDuplicateNs, n as N;

// ok:
MATCH (item)
WITH item.name AS itemName, COUNT(item) AS itemCount
WHERE itemCount > 1
RETURN COUNT(itemCount) AS totalDuplicateItems, COLLECT(itemName) AS duplicateItemNames;
```

Results:

``` example
{"duplicateItemNames": ["Pad Thai", "Fish Sauce"], "totalDuplicateItems": 3}
```

# count entities—Product or Store or Recipe—with the same name as separate record

Q: Ok, that works great, but now why are the results grouped?

A: this why we need unwind…i think.

``` example
MATCH (item)
WITH item.name AS itemName, COUNT(item) AS itemCount
WHERE itemCount > 1
WITH COUNT(itemCount) AS totalDuplicateItems, COLLECT(itemName) AS duplicateItemNames
UNWIND duplicateItemNames AS duplicateItemName
RETURN totalDuplicateItems, duplicateItemName;
```

Results:

``` example
{"duplicateItemName": "Pad Thai", "totalDuplicateItems": 3}
{"duplicateItemName": "Fish Sauce", "totalDuplicateItems": 3}
```

# BAD: list relation entities with properties

BAD: list relations, not just CONTAINS and show relation properties.

Gotcha! This is wrong. Notice we're missing the is-the-same-as relation.

``` example
MATCH ()-[r]-()
UNWIND keys(r) AS propertyNames
RETURN DISTINCT type(r) AS type, propertyNames AS propertyName
ORDER BY type, propertyName;
```

Results:

``` example
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "substitutes", "type": "CONTAINS"}
{"propertyName": "urls", "type": "CONTAINS"}
{"propertyName": "aisle", "type": "PURCHASE_AT"}
{"propertyName": "url", "type": "PURCHASE_AT"}
{"propertyName": "urls", "type": "PURCHASE_AT"}
{"propertyName": "urls", "type": "RECOMMENDS"}
```

# list all relations

``` example
MATCH ()-[r]-()
RETURN DISTINCT type(r) AS relationType
ORDER BY relationType;
```

Results:

``` example
{"relationType": "CONTAINS"}
{"relationType": "CREATED"}
{"relationType": "IS_THE_SAME_AS"}
{"relationType": "PURCHASE_AT"}
{"relationType": "RECOMMENDS"}
```

# find Vegan Thai Red Curry

``` example
MATCH (r:Recipe {name: 'Vegan Thai Red Curry'})-[:CONTAINS]->(p:Product)
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
{"ProductNames": ["Cumin seeds", "Coriander seeds", "White Peppercorns"], "Recipe": "Vegan Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Shallots", "Cilantro roots", "Lemongrass"], "Recipe": "Vegan Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic"], "Recipe": "Vegan Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Galangal"], "Recipe": "Vegan Thai Red Curry", "Store": "Uwajimaya"}
```

# find Thai Red Curry without specifying exact title

Substring matching with CONTAINS. We didn't specify Vegan Thai Red Curry
here.

``` example
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE r.name CONTAINS 'Thai Red Curry'
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
{"ProductNames": ["Full fat coconut milk", "Light Brown Sugar", "Chicken Stock or Water", "Ginger", "Zucchini", "Lemongrass"], "Recipe": "Chicken Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic", "Onion", "Red Bell Pepper"], "Recipe": "Chicken Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Thai basil"], "Recipe": "Chicken Thai Red Curry", "Store": "Uwajimaya"}
{"ProductNames": ["Boneless Chicken Thighs"], "Recipe": "Chicken Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Fish sauce"], "Recipe": "Chicken Thai Red Curry", "Store": "Hau Hau Market"}
{"ProductNames": ["Lemon Juice"], "Recipe": "Chicken Thai Red Curry", "Store": "Whole Foods"}
{"ProductNames": ["Cumin seeds", "Coriander seeds", "White Peppercorns"], "Recipe": "Vegan Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Shallots", "Cilantro roots", "Lemongrass"], "Recipe": "Vegan Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic"], "Recipe": "Vegan Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Galangal"], "Recipe": "Vegan Thai Red Curry", "Store": "Uwajimaya"}
```

# find Thai Curry with regex

``` example
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE r.name =~ '.*Thai.*Curry.*'
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
{"ProductNames": ["Full fat coconut milk", "Light Brown Sugar", "Chicken Stock or Water", "Ginger", "Zucchini", "Lemongrass"], "Recipe": "Chicken Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic", "Onion", "Red Bell Pepper"], "Recipe": "Chicken Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Thai basil"], "Recipe": "Chicken Thai Red Curry", "Store": "Uwajimaya"}
{"ProductNames": ["Boneless Chicken Thighs"], "Recipe": "Chicken Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Fish sauce"], "Recipe": "Chicken Thai Red Curry", "Store": "Hau Hau Market"}
{"ProductNames": ["Lemon Juice"], "Recipe": "Chicken Thai Red Curry", "Store": "Whole Foods"}
{"ProductNames": ["Cumin seeds", "Coriander seeds", "White Peppercorns"], "Recipe": "Vegan Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Shallots", "Cilantro roots", "Lemongrass"], "Recipe": "Vegan Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic"], "Recipe": "Vegan Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Galangal"], "Recipe": "Vegan Thai Red Curry", "Store": "Uwajimaya"}
```

# find recipes with either Thai or Curry

``` example
// ok:
// MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
// WHERE r.name =~ '(?i).*Thai.*|(?i).*Curry.*'
// MATCH (p)-[:PURCHASE_AT]->(s:Store)
// RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;

// better:
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE r.name =~ '(?i).*(Thai|Curry).*'
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
{"ProductNames": ["Full fat coconut milk", "Light Brown Sugar", "Chicken Stock or Water", "Ginger", "Zucchini", "Lemongrass"], "Recipe": "Chicken Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic", "Onion", "Red Bell Pepper"], "Recipe": "Chicken Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Thai basil"], "Recipe": "Chicken Thai Red Curry", "Store": "Uwajimaya"}
{"ProductNames": ["Boneless Chicken Thighs"], "Recipe": "Chicken Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Fish sauce"], "Recipe": "Chicken Thai Red Curry", "Store": "Hau Hau Market"}
{"ProductNames": ["Lemon Juice"], "Recipe": "Chicken Thai Red Curry", "Store": "Whole Foods"}
{"ProductNames": ["Shrimp", "Fish sauce", "Garlic Chives", "Mung Bean Sprouts", "Rice Sticks", "Thai-style Baked Tofu", "Rice Stick Noodles", "Pressed Tofu", "Roasted Chili Flakes"], "Recipe": "Pad Thai", "Store": "Hau Hau Market"}
{"ProductNames": ["Dry-Roasted Peanuts", "Tamarind Paste", "Sweet Paprika", "Grounded Roasted Peanuts"], "Recipe": "Pad Thai", "Store": "PCC"}
{"ProductNames": ["Garlic", "Lime", "Chicken", "Eggs", "Pressed Tofu"], "Recipe": "Pad Thai", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Granulated Sugar", "Dried Shrimp", "Mung Bean Sprouts", "Vegetable Oil", "Shallots"], "Recipe": "Pad Thai", "Store": "Safeway"}
{"ProductNames": ["Banana Leaf"], "Recipe": "Pad Thai", "Store": "Viet-Wah Asian Food Market"}
{"ProductNames": ["Lime juice"], "Recipe": "Pad Thai", "Store": "Whole Foods"}
{"ProductNames": ["Dried Shrimp"], "Recipe": "Pad Thai", "Store": "Lam\u0027s Seafood Asian Market"}
{"ProductNames": ["Chili Sauce", "Tamarind Liquid"], "Recipe": "Pad Thai", "Store": "Spice SPC"}
{"ProductNames": ["Chili Sauce", "Mung Bean Sprouts"], "Recipe": "Pad Thai", "Store": "M2M Mart"}
{"ProductNames": ["Mung Bean Sprouts"], "Recipe": "Pad Thai", "Store": "Madison Co-op"}
{"ProductNames": ["Rice Wine Vinegar", "Palm Sugar", "Tamarind Liquid", "Sweetened Radish"], "Recipe": "Pad Thai", "Store": "Uwajimaya"}
{"ProductNames": ["Thai-style Baked Tofu"], "Recipe": "Pad Thai", "Store": "Thanh Son Tofu"}
{"ProductNames": ["Roasted Unsalted Peanuts"], "Recipe": "Phad Thai", "Store": "PCC"}
{"ProductNames": ["Cumin seeds", "Coriander seeds", "White Peppercorns"], "Recipe": "Vegan Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Shallots", "Cilantro roots", "Lemongrass"], "Recipe": "Vegan Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic"], "Recipe": "Vegan Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Galangal"], "Recipe": "Vegan Thai Red Curry", "Store": "Uwajimaya"}
{"ProductNames": ["Garlic cloves", "Lime"], "Recipe": "The Best Green Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Thai basil", "Kaffir lime leaves", "Galangal", "Thai Eggplant", "Palm Sugar", "Snow peas"], "Recipe": "The Best Green Curry", "Store": "Uwajimaya"}
{"ProductNames": ["White Peppercorns", "Chicken Thighs", "Cumin seeds", "Coriander seeds"], "Recipe": "The Best Green Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Kaffir lime leaves", "Fish sauce"], "Recipe": "The Best Green Curry", "Store": "Hau Hau Market"}
{"ProductNames": ["Serranos", "Lemongrass", "Shallots", "Cilantro", "Full fat coconut milk", "Chicken stock"], "Recipe": "The Best Green Curry", "Store": "Safeway"}
{"ProductNames": ["Coriander powder", "Chili powder"], "Recipe": "Thai Eggplant Recipe", "Store": "Madison Co-op"}
{"ProductNames": ["Red Bell Pepper", "Onion", "Garlic cloves"], "Recipe": "Thai Eggplant Recipe", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Lime juice"], "Recipe": "Thai Eggplant Recipe", "Store": "Whole Foods"}
{"ProductNames": ["Salt"], "Recipe": "Thai Eggplant Recipe", "Store": "QFC"}
{"ProductNames": ["Ginger", "Lemongrass", "Full fat coconut milk", "Coconut Oil", "Chicken stock"], "Recipe": "Thai Eggplant Recipe", "Store": "Safeway"}
{"ProductNames": ["Thai basil", "Thai Eggplant", "Thai chilies"], "Recipe": "Thai Eggplant Recipe", "Store": "Uwajimaya"}
{"ProductNames": ["Coconut Oil"], "Recipe": "Thai Eggplant Recipe", "Store": "PCC"}
{"ProductNames": ["Thai chilies"], "Recipe": "Thai Eggplant Recipe", "Store": "Lam\u0027s Seafood Asian Market"}
{"ProductNames": ["Yellow Curry Powder"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Madison Co-op"}
{"ProductNames": ["Carrots", "Russet Potatoes", "Brown Sugar", "Full fat coconut milk", "Coconut Oil", "Chicken Broth", "Cilantro"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Safeway"}
{"ProductNames": ["Maesri Thai Red Curry Paste"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Whole Foods"}
{"ProductNames": ["Garlic", "Yellow Onion"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Chicken Breast"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "QFC"}
{"ProductNames": ["Rice"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Uwajimaya"}
{"ProductNames": ["Coconut Oil"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "PCC"}
{"ProductNames": ["Fish sauce"], "Recipe": "Yellow Coconut Curry Chicken", "Store": "Hau Hau Market"}
{"ProductNames": ["Curry Powder", "Cumin seeds", "Coriander seeds"], "Recipe": "Yellow Curry with Chicken", "Store": "Madison Co-op"}
{"ProductNames": ["Chicken", "Garlic"], "Recipe": "Yellow Curry with Chicken", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Shallots", "Potatoes", "Full fat coconut milk", "Ginger", "Lemongrass", "Yellow Curry Paste"], "Recipe": "Yellow Curry with Chicken", "Store": "Safeway"}
{"ProductNames": ["Fish sauce"], "Recipe": "Yellow Curry with Chicken", "Store": "Hau Hau Market"}
{"ProductNames": ["Yellow Curry Paste"], "Recipe": "Yellow Curry with Chicken", "Store": "M2M Mart"}
{"ProductNames": ["Galangal"], "Recipe": "Yellow Curry with Chicken", "Store": "Uwajimaya"}
```

# find Thai Curry using cypher IN \[\] query format

This returns empty…thats unexpected…

``` example
MATCH (r:Recipe)
WHERE 'Thai' IN [r.name] AND 'Curry' IN [r.name]
RETURN r.name AS Recipe;
```

Results:

``` example
```

# find Thai Curry with multiple substings

Why does this return no results?

``` example
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE 'Thai' IN r.name AND 'Curry' IN r.name
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
```

# find Thai Curry with regex case insensitively

``` example
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE r.name =~ '(?i).*thai.*curry.*'
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN r.name as Recipe, s.name AS Store, COLLECT(DISTINCT p.name) AS ProductNames;
```

Results:

``` example
{"ProductNames": ["Full fat coconut milk", "Light Brown Sugar", "Chicken Stock or Water", "Ginger", "Zucchini", "Lemongrass"], "Recipe": "Chicken Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic", "Onion", "Red Bell Pepper"], "Recipe": "Chicken Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Thai basil"], "Recipe": "Chicken Thai Red Curry", "Store": "Uwajimaya"}
{"ProductNames": ["Boneless Chicken Thighs"], "Recipe": "Chicken Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Fish sauce"], "Recipe": "Chicken Thai Red Curry", "Store": "Hau Hau Market"}
{"ProductNames": ["Lemon Juice"], "Recipe": "Chicken Thai Red Curry", "Store": "Whole Foods"}
{"ProductNames": ["Cumin seeds", "Coriander seeds", "White Peppercorns"], "Recipe": "Vegan Thai Red Curry", "Store": "Madison Co-op"}
{"ProductNames": ["Shallots", "Cilantro roots", "Lemongrass"], "Recipe": "Vegan Thai Red Curry", "Store": "Safeway"}
{"ProductNames": ["Garlic"], "Recipe": "Vegan Thai Red Curry", "Store": "Trader Joe\u0027s"}
{"ProductNames": ["Galangal"], "Recipe": "Vegan Thai Red Curry", "Store": "Uwajimaya"}
```

# find Thai Curry with regex case insensitively, output full product details

We have a map of store to products list. In Go, we can queue the product
list up for each store, then loop over stores to show products we'd need
to purchase for each store.

``` example
MATCH (recipe:Recipe)-[:CONTAINS]->(product:Product)
WHERE recipe.name =~ '(?i).*thai.*curry.*'
MATCH (product)-[:PURCHASE_AT]->(store:Store)
RETURN recipe.name as RecipeName, store.name AS StoreName, COLLECT(DISTINCT product) AS Products;
```

Results:

``` example
{"Products": [{"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Light Brown Sugar", "type": "Brown Sugar"}, {"name": "Chicken Stock or Water", "type": "Chicken Stock"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Zucchini", "type": "Zucchini"}, {"name": "Lemongrass", "type": "Lemongrass"}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Safeway"}
{"Products": [{"name": "Garlic", "type": "Garlic"}, {"name": "Onion", "type": "Onion"}, {"name": "Red Bell Pepper", "type": "Bell Pepper"}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Trader Joe\u0027s"}
{"Products": [{"name": "Thai basil", "type": "Herb", "urls": ["https://www.fredmeyer.com/p/simple-truth-organic-thai-basil/0001111001922"]}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Uwajimaya"}
{"Products": [{"name": "Boneless Chicken Thighs", "type": "Chicken"}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Madison Co-op"}
{"Products": [{"name": "Fish sauce", "type": "Fish Sauce"}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Hau Hau Market"}
{"Products": [{"name": "Lemon Juice", "type": "Lemon Juice"}], "RecipeName": "Chicken Thai Red Curry", "StoreName": "Whole Foods"}
{"Products": [{"name": "Cumin seeds", "type": "Cumin"}, {"name": "Coriander seeds", "type": "Spice"}, {"name": "White Peppercorns", "type": "White Peppercorns"}], "RecipeName": "Vegan Thai Red Curry", "StoreName": "Madison Co-op"}
{"Products": [{"name": "Shallots", "type": "Shallots"}, {"name": "Cilantro roots", "type": "Cilantro"}, {"name": "Lemongrass", "type": "Lemongrass"}], "RecipeName": "Vegan Thai Red Curry", "StoreName": "Safeway"}
{"Products": [{"name": "Garlic", "type": "Garlic"}], "RecipeName": "Vegan Thai Red Curry", "StoreName": "Trader Joe\u0027s"}
{"Products": [{"name": "Galangal", "type": "Galangal"}], "RecipeName": "Vegan Thai Red Curry", "StoreName": "Uwajimaya"}
```

# list products by type

``` example
MATCH (p:Product)-[:PURCHASE_AT]->(s:Store)
RETURN p.name AS ProductName, s.name AS Store, p.type as Type
ORDER BY toLower(p.type);
```

Results:

``` example
{"ProductName": "A.1. Sauce", "Store": "dummy place holder", "Type": "A.1. Sauce"}
{"ProductName": "Allspice", "Store": "Madison Co-op", "Type": "Allspice"}
{"ProductName": "Almond Milk", "Store": "Trader Joe\u0027s", "Type": "Almond Milk"}
{"ProductName": "Almonds - bulk roasted or raw -- whichever is cheaper", "Store": "Trader Joe\u0027s", "Type": "Almonds"}
{"ProductName": "Apple Cider Vinegar", "Store": "PCC", "Type": "Apple Cider Vinegar"}
{"ProductName": "Apple Cider Vinegar", "Store": "Safeway", "Type": "Apple Cider Vinegar"}
{"ProductName": "Artichoke Hearts", "Store": "Safeway", "Type": "Artichokes"}
{"ProductName": "Asparagus", "Store": "dummy place holder", "Type": "Asparagus"}
{"ProductName": "Asparagus", "Store": "Trader Joe\u0027s", "Type": "Asparagus"}
{"ProductName": "Avocado Oil", "Store": "PCC", "Type": "Avocado Oil"}
# ...truncated to 10 for brevity
```

# list products that I've not yet assiged a type to

``` example
MATCH (p:Product)
WHERE p.type IS NULL
RETURN p.name;
```

Results:

``` example
{"p.name": "Black beans"}
{"p.name": "Salt and pepper"}
```

# list details about product urls

What the hell is this one…I've forgotten.

``` example
MATCH (r:Recipe)-[c:CONTAINS]->(p:Product)
WHERE id(p) IS NULL
RETURN r.name AS Recipe, c.quantity AS Quantity, c.urls AS RecipeUrls;
```

Results:

``` example
```

# BAD: tally products with associated brands

I can't get this to do what I expect.

``` example
// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand = ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(Brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand IS NOT NULL AND p.brand <> ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(Brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE exists(p.brand) AND trim(p.brand) <> ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(Brand);

// Neo.ClientError.Statement.SyntaxError
// The property existence syntax `... exists(variable.property)` is no longer supported. Please use `variable.property IS NOT NULL` instead. (line 3, column 11 (offset: 77))
// "    WHERE exists(p.brand) AND trim(p.brand) <> ''"

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand IS NOT NULL AND trim(p.brand) <> ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(Brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand IS NOT NULL AND TRIM(p.brand) <> ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(Brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand IS NOT NULL AND TRIM(p.brand) <> ''
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
// ORDER BY toLower(p.brand);
//
// In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: p (line 5, column 22 (offset: 270))
// "    ORDER BY toLower(p.brand);"

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE p.brand IS NOT NULL AND TRIM(p.brand) <> ''
// WITH p, COLLECT(DISTINCT s.name) AS AvailableAtStores
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, AvailableAtStores
// ORDER BY toLower(p.brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE COALESCE(p.brand, '') <> ''
// WITH p, COLLECT(DISTINCT s.name) AS AvailableAtStores
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, AvailableAtStores
// ORDER BY toLower(p.brand);

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE COALESCE(TRIM(p.brand), '') <> ''
// WITH p, COLLECT(DISTINCT s.name) AS AvailableAtStores
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, AvailableAtStores
// ORDER BY toLower(TRIM(p.brand));

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE COALESCE(p.brand, '') <> '' AND TRIM(p.brand) <> ''
// WITH p, COLLECT(DISTINCT s.name) AS AvailableAtStores
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, AvailableAtStores
// ORDER BY toLower(TRIM(p.brand));

// MATCH (p:Product)
// OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
// WHERE NOT (p.brand IS NULL OR TRIM(p.brand) = '')
// WITH p, COLLECT(DISTINCT s.name) AS AvailableAtStores
// RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, AvailableAtStores
// ORDER BY toLower(TRIM(p.brand));

// cypher how to filter items whose properties are zero length string

// MATCH (n:Node)
// WHERE ALL(prop IN keys(n) WHERE length(n[prop]) = 0)
// RETURN n;

// MATCH (n:Product)
// WHERE ALL(prop IN keys(n) WHERE length(n[prop]) = 0)
// RETURN n;

MATCH (p:Product)
WHERE p.Brand IS NULL OR p.Brand = ""
RETURN COUNT(p) AS productCount;
```

Results:

``` example
{"productCount": 542}
```

# find products without associated brands

``` example
MATCH (p:Product)
WITH count(p) AS TotalProducts,
     sum(CASE WHEN p.brand IS NOT NULL AND p.brand <> '' THEN 1 ELSE 0 END) AS ProductsWithBrand,
     sum(CASE WHEN p.brand IS NULL OR p.brand = '' THEN 1 ELSE 0 END) AS ProductsWithoutBrand
RETURN TotalProducts, ProductsWithBrand, ProductsWithoutBrand;
```

Results:

``` example
{"ProductsWithBrand": 8, "ProductsWithoutBrand": 534, "TotalProducts": 542}
```

# include product brands

``` example
MATCH (p:Product)
OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN p.name AS ProductName, p.type AS Type, COALESCE(p.brand, '') AS Brand, COLLECT(DISTINCT s.name) AS AvailableAtStores
ORDER BY toLower(Brand);
```

Results:

``` example
{"AvailableAtStores": ["dummy place holder"], "Brand": "", "ProductName": "A.1. Sauce", "Type": "A.1. Sauce"}
{"AvailableAtStores": ["Madison Co-op"], "Brand": "", "ProductName": "Allspice", "Type": "Allspice"}
{"AvailableAtStores": ["Trader Joe\u0027s"], "Brand": "", "ProductName": "Almond Milk", "Type": "Almond Milk"}
{"AvailableAtStores": ["Trader Joe\u0027s"], "Brand": "", "ProductName": "Almonds - bulk roasted or raw -- whichever is cheaper", "Type": "Almonds"}
{"AvailableAtStores": ["QFC"], "Brand": "", "ProductName": "Angkor Cambodian Food Paste Lemongrass", "Type": "Food Paste"}
{"AvailableAtStores": ["PCC", "Safeway"], "Brand": "", "ProductName": "Apple Cider Vinegar", "Type": "Apple Cider Vinegar"}
{"AvailableAtStores": ["Safeway"], "Brand": "", "ProductName": "Apples", "Type": "Fruit"}
{"AvailableAtStores": [], "Brand": "", "ProductName": "Aroy-D Coconut Milk", "Type": "Coconut Milk"}
{"AvailableAtStores": ["Safeway"], "Brand": "", "ProductName": "Artichoke Hearts", "Type": "Artichokes"}
{"AvailableAtStores": ["Trader Joe\u0027s", "dummy place holder"], "Brand": "", "ProductName": "Asparagus", "Type": "Asparagus"}
# ...truncated to 10 for brevity
```

# find products with non-alphanumeric names

List products whose names contain non-alphanum sorted randomly to
prevent boredom while cleaning data.

``` example
MATCH (p:Product)
WHERE p.name =~ ".*[^a-zA-Z0-9 ].*"
RETURN p.name AS ProductName
ORDER BY RAND();
```

Results:

``` example
{"ProductName": "Broth - Beef - low sodium"}
{"ProductName": "Quick Rolled Oats / Oats PLU 8485"}
{"ProductName": "Chicken Broth - 32 Oz"}
{"ProductName": "Coffee / MTM / PLU 8368 / Decaf / Decaf / Decaf Kind Unknown"}
{"ProductName": "Enchilada Sauce - Red"}
{"ProductName": "Ka-Me Whole Peeled Straw Mushrooms"}
{"ProductName": "Tortilla - Flour large diameter Don Pancho or Safeway brand"}
{"ProductName": "Coconut Milk - 13.5 oz can"}
{"ProductName": "Black, Beluga Lentils"}
{"ProductName": "Chili Pepper, Ancho, Ground"}
# ...truncated to 10 for brevity
```

# BAD: get non-empty product urls

This is not possible.

BAD: fetch all urls for all products, but then don't show urls if
product doesn't have any.

Don't try to coerece cypher into formatting output, use
golang/python/…to pretty-print as you like.

``` example
MATCH (p:Product)
RETURN p.name AS ProductName, p.urls AS URLs;
```

Results:

``` example
{"ProductName": "A.1. Sauce", "URLs": null}
{"ProductName": "Allspice", "URLs": null}
{"ProductName": "Almond Milk", "URLs": null}
{"ProductName": "Almonds - bulk roasted or raw -- whichever is cheaper", "URLs": null}
{"ProductName": "Angkor Cambodian Food Paste Lemongrass", "URLs": null}
{"ProductName": "Apple Cider Vinegar", "URLs": null}
{"ProductName": "Apples", "URLs": null}
{"ProductName": "Aroy-D Coconut Milk", "URLs": ["https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2", "https://www.templeofthai.com/food/coconut-milk/aroy-d-large", "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"]}
{"ProductName": "Aroy-D Red Curry Paste", "URLs": ["https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste", "https://www.youtube.com/watch?v=GC7ccNKatVU"]}
{"ProductName": "Artichoke Hearts", "URLs": null}
# ...truncated to 10 for brevity
```

# get products with non-empty url lists

``` example
MATCH (p:Product)
WHERE p.urls IS NOT NULL AND SIZE(p.urls) > 0
RETURN p.name AS ProductName, p.urls AS URLs;
```

Results:

``` example
{"ProductName": "Aroy-D Coconut Milk", "URLs": ["https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2", "https://www.templeofthai.com/food/coconut-milk/aroy-d-large", "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"]}
{"ProductName": "Aroy-D Red Curry Paste", "URLs": ["https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste", "https://www.youtube.com/watch?v=GC7ccNKatVU"]}
{"ProductName": "Baked Tofu", "URLs": ["https://www.google.com/search?sca_esv=579179295\u0026sxsrf=AM9HkKnAjZCHvxR_pYrcL19p0l0Qjk1Zjg:1699032994034\u0026q=Baked+Tofu\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiwrsiQr6iCAxXHHjQIHVGWDjkQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}
{"ProductName": "Bird\u0027s Eye Frozen Sweet Corn", "URLs": ["https://photos.google.com/photo/AF1QipMv3t4xn9yYGbv5cbemxEm5r381YlS6r2fCzUZA"]}
{"ProductName": "Bonito Flakes", "URLs": ["https://chefjacooks.com/en/wprm_print/7506", "https://www.amazon.com/Kaneso-Tokuyou-Hanakatsuo-Bonito-Flakes/dp/B0052BGLMS", "https://www.google.com/search?sca_esv=577907868\u0026sxsrf=AM9HkKmChgo0Ktu9IlnGTSWuzmK5YqQsiQ:1698696041201\u0026q=Bonito+Flakes\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjy0Pfwx56CAxUBODQIHey0BwcQ0pQJegQIDhAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}
{"ProductName": "brownie clif bar", "URLs": ["https://shop.clifbar.com/collections/clif-bar"]}
{"ProductName": "Buckwheat Soba Nodles", "URLs": ["https://www.amazon.com/gp/product/B00101YEBO", "https://veggiekinsblog.com/2020/01/13/vegan-zaru-soba/"]}
{"ProductName": "Candlenuts", "URLs": ["https://www.google.com/search?client=emacs\u0026sca_esv=580758711\u0026sxsrf=AM9HkKmwGL8OAnRZ8-PJqCLp_VU9-SlJfg:1699507479310\u0026q=Candlenuts\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiwsOPclraCAxVVETQIHabkCi0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=7uHbBToP7aPjSM"]}
{"ProductName": "Chili Sauce", "URLs": ["https://thewoksoflife.com/wp-content/uploads/2020/07/chili-oil-recipe-18.jpg", "https://www.amazon.com/%E8%80%81%E5%B9%B2%E5%A6%88%E9%A6%99%E8%BE%A3%E8%84%86%E6%B2%B9%E8%BE%A3%E6%A4%92-Spicy-Chili-Crisp-7-41/dp/B07VHKTTR3/ref=asc_df_B07VHKTTR3/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=642112947349\u0026hvpos=\u0026hvnetw=g\u0026hvrand=12580253979732381700\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-1951193779579\u0026psc=1", "https://www.google.com/search?sca_esv=580857096\u0026sxsrf=AM9HkKmLh9FDQ0x5jNY12kJCSSbwO6Q3FA:1699539552211\u0026q=thai+and+true+hot+chili\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiJ8KiajreCAxWqAjQIHaMBDKYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=KDhcVOHe9yNjkM", "https://photos.google.com/photo/AF1QipMQPtIdU1_m3SkgBWs5RcE2QXFs2OnbbJAdaG9M"]}
{"ProductName": "Dashi", "URLs": ["https://en.wikipedia.org/wiki/Dashi"]}
# ...truncated to 10 for brevity
```

# Candlenuts…really? What recipe calls for that?

``` example
// ok:
// MATCH (r:Recipe)-[:CONTAINS]->(p:Product {name: 'Candlenuts'})
// RETURN r.name AS Recipe, r.urls AS RecipeURLs;

// better to use case insensitive:
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WHERE p.name =~ '(?i)Candlenuts'
RETURN r.name AS Recipe, r.urls AS RecipeURLs;
```

Results:

``` example
{"Recipe": "Laksa", "RecipeURLs": ["https://hot-thai-kitchen.com/singaporean-laksa/print/7645/", "https://hot-thai-kitchen.com/singaporean-laksa/", "https://www.youtube.com/watch?v=cWtnFKFiB_0"]}
```

# list products with at least one url

``` example
MATCH (p:Product)
WHERE size(p.urls) > 0
RETURN p.name AS ProductName, p.urls AS URLs;
```

Results:

``` example
{"ProductName": "Aroy-D Coconut Milk", "URLs": ["https://www.google.com/search?sca_esv=581110607\u0026sxsrf=AM9HkKlvxPZkhbmImtTjzpzoOo0bggx5gA:1699596383961\u0026q=aroy-d+coconut+milk\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjq0uj14biCAxW7GTQIHT6CDx0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2", "https://www.templeofthai.com/food/coconut-milk/aroy-d-large", "https://www.zhicayfoods.com/products/aroy-d-coconut-milk-original"]}
{"ProductName": "Aroy-D Red Curry Paste", "URLs": ["https://www.google.com/search?sca_esv=579549787\u0026sxsrf=AM9HkKlJ1akktSB6XfxzBxrRxM_VM-9vxA:1699158988679\u0026q=aroy-d+red+curry+paste", "https://www.youtube.com/watch?v=GC7ccNKatVU"]}
{"ProductName": "Baked Tofu", "URLs": ["https://www.google.com/search?sca_esv=579179295\u0026sxsrf=AM9HkKnAjZCHvxR_pYrcL19p0l0Qjk1Zjg:1699032994034\u0026q=Baked+Tofu\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiwrsiQr6iCAxXHHjQIHVGWDjkQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}
{"ProductName": "Bird\u0027s Eye Frozen Sweet Corn", "URLs": ["https://photos.google.com/photo/AF1QipMv3t4xn9yYGbv5cbemxEm5r381YlS6r2fCzUZA"]}
{"ProductName": "Bonito Flakes", "URLs": ["https://chefjacooks.com/en/wprm_print/7506", "https://www.amazon.com/Kaneso-Tokuyou-Hanakatsuo-Bonito-Flakes/dp/B0052BGLMS", "https://www.google.com/search?sca_esv=577907868\u0026sxsrf=AM9HkKmChgo0Ktu9IlnGTSWuzmK5YqQsiQ:1698696041201\u0026q=Bonito+Flakes\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjy0Pfwx56CAxUBODQIHey0BwcQ0pQJegQIDhAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}
{"ProductName": "brownie clif bar", "URLs": ["https://shop.clifbar.com/collections/clif-bar"]}
{"ProductName": "Buckwheat Soba Nodles", "URLs": ["https://www.amazon.com/gp/product/B00101YEBO", "https://veggiekinsblog.com/2020/01/13/vegan-zaru-soba/"]}
{"ProductName": "Candlenuts", "URLs": ["https://www.google.com/search?client=emacs\u0026sca_esv=580758711\u0026sxsrf=AM9HkKmwGL8OAnRZ8-PJqCLp_VU9-SlJfg:1699507479310\u0026q=Candlenuts\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiwsOPclraCAxVVETQIHabkCi0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=7uHbBToP7aPjSM"]}
{"ProductName": "Chili Sauce", "URLs": ["https://thewoksoflife.com/wp-content/uploads/2020/07/chili-oil-recipe-18.jpg", "https://www.amazon.com/%E8%80%81%E5%B9%B2%E5%A6%88%E9%A6%99%E8%BE%A3%E8%84%86%E6%B2%B9%E8%BE%A3%E6%A4%92-Spicy-Chili-Crisp-7-41/dp/B07VHKTTR3/ref=asc_df_B07VHKTTR3/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=642112947349\u0026hvpos=\u0026hvnetw=g\u0026hvrand=12580253979732381700\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-1951193779579\u0026psc=1", "https://www.google.com/search?sca_esv=580857096\u0026sxsrf=AM9HkKmLh9FDQ0x5jNY12kJCSSbwO6Q3FA:1699539552211\u0026q=thai+and+true+hot+chili\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiJ8KiajreCAxWqAjQIHaMBDKYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=KDhcVOHe9yNjkM", "https://photos.google.com/photo/AF1QipMQPtIdU1_m3SkgBWs5RcE2QXFs2OnbbJAdaG9M"]}
{"ProductName": "Dashi", "URLs": ["https://en.wikipedia.org/wiki/Dashi"]}
# ...truncated to 10 for brevity
```

# list product properties

A product may or may not have any one of these properties.

``` example
MATCH (n:Product)
WITH DISTINCT keys(n) AS propertyNamesList
UNWIND propertyNamesList AS propertyName
RETURN DISTINCT propertyName
ORDER BY toLower(propertyName);
```

Results:

``` example
{"propertyName": "brand"}
{"propertyName": "comments"}
{"propertyName": "detail"}
{"propertyName": "details"}
{"propertyName": "name"}
{"propertyName": "notes"}
{"propertyName": "search"}
{"propertyName": "type"}
{"propertyName": "urls"}
```

# list PURCHASE-AT relation properties

Find all the PURCHASE-AT relations and aggreget the list of properties
seen.

``` example
MATCH ()-[r:PURCHASE_AT]->()
UNWIND keys(r) AS propertyNames
RETURN DISTINCT propertyNames;
```

Results:

``` example
{"propertyNames": "urls"}
{"propertyNames": "aisle"}
{"propertyNames": "url"}
```

# list case-insensitive properties for all entities

``` example
MATCH (n)
UNWIND keys(n) AS propertyName
RETURN DISTINCT propertyName
ORDER BY toLower(propertyName);
```

Results:

``` example
{"propertyName": "brand"}
{"propertyName": "comments"}
{"propertyName": "detail"}
{"propertyName": "details"}
{"propertyName": "name"}
{"propertyName": "notes"}
{"propertyName": "origin"}
{"propertyName": "search"}
{"propertyName": "type"}
{"propertyName": "urls"}
{"propertyName": "ytb"}
```

# BAD: list properties for all entities

It's good becaues it lists properties for node entities

but

Its bad because it doesn't list properties for relation entities.

[GOOD: list properties across all entities](GOOD: list properties across all entities)
fixes this problem.

``` example
MATCH (n)
UNWIND keys(n) AS propertyName
RETURN DISTINCT propertyName;
```

Results:

``` example
{"propertyName": "name"}
{"propertyName": "urls"}
{"propertyName": "ytb"}
{"propertyName": "origin"}
{"propertyName": "notes"}
{"propertyName": "type"}
{"propertyName": "brand"}
{"propertyName": "comments"}
{"propertyName": "details"}
{"propertyName": "search"}
{"propertyName": "detail"}
```

# GOOD: list properties across all entities

Get properties of nodes and then get properties of relation entities and
then aggregate them into one list.

``` example
MATCH (n)
UNWIND keys(n) AS propertyName
RETURN DISTINCT 'Node' AS type, propertyName
ORDER BY type, propertyName

UNION

MATCH ()-[r]-()
UNWIND keys(r) AS propertyNames
RETURN DISTINCT type(r) AS type, propertyNames AS propertyName
ORDER BY type, propertyName;
```

Results:

``` example
{"propertyName": "brand", "type": "Node"}
{"propertyName": "comments", "type": "Node"}
{"propertyName": "detail", "type": "Node"}
{"propertyName": "details", "type": "Node"}
{"propertyName": "name", "type": "Node"}
{"propertyName": "notes", "type": "Node"}
{"propertyName": "origin", "type": "Node"}
{"propertyName": "search", "type": "Node"}
{"propertyName": "type", "type": "Node"}
{"propertyName": "urls", "type": "Node"}
{"propertyName": "ytb", "type": "Node"}
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "substitutes", "type": "CONTAINS"}
{"propertyName": "urls", "type": "CONTAINS"}
{"propertyName": "aisle", "type": "PURCHASE_AT"}
{"propertyName": "url", "type": "PURCHASE_AT"}
{"propertyName": "urls", "type": "PURCHASE_AT"}
{"propertyName": "urls", "type": "RECOMMENDS"}
```

# find products with stores for each

``` example
MATCH (p:Product)-[:PURCHASE_AT]->(s:Store)
RETURN p.name AS ProductName, s.name AS Store, p.type as Type;
```

Results:

``` example
{"ProductName": "Gochugaru", "Store": "Amazon", "Type": "Gochugaru"}
{"ProductName": "Sonicare soft bristles", "Store": "Bartell", "Type": "Sonicare Bristles"}
{"ProductName": "ACT Restoring Mouthwash", "Store": "Bartell", "Type": "Mouthwash"}
{"ProductName": "Marketspice Tea Decaf - 2 Oz for Mommy", "Store": "Bartell", "Type": "Marketspice Tea"}
{"ProductName": "Cleanser - Bon Ami", "Store": "Bartell", "Type": "Cleanser"}
{"ProductName": "Crest", "Store": "Bartell", "Type": "Toothpaste"}
{"ProductName": "Enchilada Sauce - Red", "Store": "dummy place holder", "Type": "Sauce"}
{"ProductName": "Boullion - Beef", "Store": "dummy place holder", "Type": "Bouillon"}
{"ProductName": "Pancake Mix - Snoqualmie Falls Lodge", "Store": "dummy place holder", "Type": "Mix"}
{"ProductName": "Johnsons Creamy Baby Oil", "Store": "dummy place holder", "Type": "Baby Oil"}
# ...truncated to 10 for brevity
```

# list all products you can purchase at dummy store

These items lack a designated source for purchase.

``` example
MATCH (s:Store { name: "dummy place holder" })-[:PURCHASE_AT]->(p:Product)
RETURN p.name
ORDER BY toLower(p.name);
```

Results:

``` example
```

Note the arrow direction here. This query fails to give what we want see
next query.

# list all products you can purchase at dummy store

These items lack a designated source for purchase.

This gives what we expect. Removing the direction allows this to work as
expected. Ponder this one.

``` example
MATCH (s:Store { name: "dummy place holder" })-[:PURCHASE_AT]-(p:Product)
RETURN p.name
ORDER BY toLower(p.name);
```

Results:

``` example
{"p.name": "A.1. Sauce"}
{"p.name": "Asparagus"}
{"p.name": "Bay Leaf"}
{"p.name": "Betty Crocker Brownie Mix"}
{"p.name": "Boullion - Beef"}
{"p.name": "Butternut Squash"}
{"p.name": "Canned Salmon"}
{"p.name": "Castelvetrano Olives"}
{"p.name": "Chipotle Chiles in adobo"}
{"p.name": "Clam Chowder"}
{"p.name": "Clams"}
{"p.name": "Dave\u0027s Seed Bread"}
{"p.name": "Dino Kale (ugly spinach)"}
{"p.name": "Duke\u0027s Mayonnaise"}
{"p.name": "Duncan Hines Brownie Mix"}
{"p.name": "Enchilada Sauce - Red"}
{"p.name": "Extra Sharp Cheddar Cheese"}
{"p.name": "Ghirardelli Brownie Mix"}
{"p.name": "Johnsons Creamy Baby Oil"}
{"p.name": "Kidney Beans - S\u0026W"}
{"p.name": "Navy Bean"}
{"p.name": "Pancake Mix - Snoqualmie Falls Lodge"}
{"p.name": "Pillsbury Brownie Mix"}
{"p.name": "Sharp Swiss Cheese"}
{"p.name": "Smoked Salmon"}
{"p.name": "Soy Sauce - Liquid Aminos"}
{"p.name": "Teff flour"}
{"p.name": "Tuna Steak"}
{"p.name": "Water"}
```

# find product purchasing info

Where the hell do I buy this crap? This is list of products that I've
not yet assiged a store with the PURCHASE-AT relation.

``` example
MATCH (p:Product)
WHERE NOT (p)-[:PURCHASE_AT]->(:Store)
RETURN p.name AS ProductName
ORDER BY toLower(ProductName);
```

Results:

``` example
{"ProductName": "Aroy-D Coconut Milk"}
{"ProductName": "Black beans"}
{"ProductName": "Candlenuts"}
{"ProductName": "Coconut Aminos"}
{"ProductName": "Cooking Oil"}
{"ProductName": "Corn on cob"}
{"ProductName": "Dashi"}
{"ProductName": "Dried Thai Chilis"}
{"ProductName": "Egg yolk"}
{"ProductName": "Fish Sauce"}
{"ProductName": "Fried shallots"}
{"ProductName": "Ice-cold water"}
{"ProductName": "Kaffir Lime"}
{"ProductName": "Kalamata Olives"}
{"ProductName": "Korean Wild Sesame Oil"}
{"ProductName": "Laksa leaves"}
{"ProductName": "Makrut lime zest"}
{"ProductName": "Mild dried red chilies"}
{"ProductName": "Miso"}
{"ProductName": "Newman\u0027s Own Sesame Ginger Dressing"}
{"ProductName": "Red Curry Paste"}
{"ProductName": "Rosemary"}
{"ProductName": "Salt and pepper"}
{"ProductName": "Salted Turnip"}
{"ProductName": "Sambal"}
{"ProductName": "Sawtooth Coriander"}
{"ProductName": "Sea Salt"}
{"ProductName": "Shrimp Paste"}
{"ProductName": "Spicy dried red chilies"}
{"ProductName": "Thai Black Soy Sauce"}
{"ProductName": "Thai chili"}
{"ProductName": "Thai shrimp paste"}
{"ProductName": "Toasted sesame flakes"}
{"ProductName": "Tofu puffs"}
{"ProductName": "Tsuyu"}
{"ProductName": "Turmeric"}
{"ProductName": "Unsweetened Nut Butter"}
{"ProductName": "Wasabi"}
{"ProductName": "Yellow Bell Pepper"}
```

# dammit this is tedious, how much cleanup remains?

When I check out where to buy stuff, I find lots of things I have no
clue where to get.

Count how many of those mystery product locations I need to figure out.

``` example
MATCH (p:Product)
WHERE NOT (p)-[:PURCHASE_AT]->(:Store)
RETURN COUNT(p) AS ProductCount;
```

Results:

``` example
{"ProductCount": 39}
```

# list count of items not associated with a store

``` example
MATCH (p:Product)
WHERE NOT (p)-[:PURCHASE_AT]->(:Store)
WITH p.name AS ProductName, count(p) AS Count
ORDER BY toLower(ProductName)
WITH COLLECT({ProductName: ProductName, Count: Count}) AS products
UNWIND RANGE(0, SIZE(products)-1) AS ItemNumber
RETURN ItemNumber + 1 AS ItemNumber, products[ItemNumber].ProductName AS ProductName;
```

Results:

``` example
{"ItemNumber": 1, "ProductName": "Aroy-D Coconut Milk"}
{"ItemNumber": 2, "ProductName": "Black beans"}
{"ItemNumber": 3, "ProductName": "Candlenuts"}
{"ItemNumber": 4, "ProductName": "Coconut Aminos"}
{"ItemNumber": 5, "ProductName": "Cooking Oil"}
{"ItemNumber": 6, "ProductName": "Corn on cob"}
{"ItemNumber": 7, "ProductName": "Dashi"}
{"ItemNumber": 8, "ProductName": "Dried Thai Chilis"}
{"ItemNumber": 9, "ProductName": "Egg yolk"}
{"ItemNumber": 10, "ProductName": "Fish Sauce"}
{"ItemNumber": 11, "ProductName": "Fried shallots"}
{"ItemNumber": 12, "ProductName": "Ice-cold water"}
{"ItemNumber": 13, "ProductName": "Kaffir Lime"}
{"ItemNumber": 14, "ProductName": "Kalamata Olives"}
{"ItemNumber": 15, "ProductName": "Korean Wild Sesame Oil"}
{"ItemNumber": 16, "ProductName": "Laksa leaves"}
{"ItemNumber": 17, "ProductName": "Makrut lime zest"}
{"ItemNumber": 18, "ProductName": "Mild dried red chilies"}
{"ItemNumber": 19, "ProductName": "Miso"}
{"ItemNumber": 20, "ProductName": "Newman\u0027s Own Sesame Ginger Dressing"}
{"ItemNumber": 21, "ProductName": "Red Curry Paste"}
{"ItemNumber": 22, "ProductName": "Rosemary"}
{"ItemNumber": 23, "ProductName": "Salt and pepper"}
{"ItemNumber": 24, "ProductName": "Salted Turnip"}
{"ItemNumber": 25, "ProductName": "Sambal"}
{"ItemNumber": 26, "ProductName": "Sawtooth Coriander"}
{"ItemNumber": 27, "ProductName": "Sea Salt"}
{"ItemNumber": 28, "ProductName": "Shrimp Paste"}
{"ItemNumber": 29, "ProductName": "Spicy dried red chilies"}
{"ItemNumber": 30, "ProductName": "Thai Black Soy Sauce"}
{"ItemNumber": 31, "ProductName": "Thai chili"}
{"ItemNumber": 32, "ProductName": "Thai shrimp paste"}
{"ItemNumber": 33, "ProductName": "Toasted sesame flakes"}
{"ItemNumber": 34, "ProductName": "Tofu puffs"}
{"ItemNumber": 35, "ProductName": "Tsuyu"}
{"ItemNumber": 36, "ProductName": "Turmeric"}
{"ItemNumber": 37, "ProductName": "Unsweetened Nut Butter"}
{"ItemNumber": 38, "ProductName": "Wasabi"}
{"ItemNumber": 39, "ProductName": "Yellow Bell Pepper"}
```

# BAD: items not associated with a store (count)

``` example
MATCH (p:Product)
WHERE NOT (p)-[:PURCHASE_AT]->(:Store)
WITH p.name AS ProductName, count(p) AS Count
ORDER BY toLower(ProductName)
WITH COLLECT({ProductName: ProductName, Count: Count}) AS products
UNWIND RANGE(0, SIZE(products)-1) AS ItemNumber
RETURN (ItemNumber + 1) + '. ' + products[ItemNumber].ProductName;
```

Results:

``` example
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "1. Aroy-D Coconut Milk"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "2. Black beans"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "3. Candlenuts"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "4. Coconut Aminos"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "5. Cooking Oil"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "6. Corn on cob"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "7. Dashi"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "8. Dried Thai Chilis"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "9. Egg yolk"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "10. Fish Sauce"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "11. Fried shallots"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "12. Ice-cold water"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "13. Kaffir Lime"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "14. Kalamata Olives"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "15. Korean Wild Sesame Oil"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "16. Laksa leaves"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "17. Makrut lime zest"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "18. Mild dried red chilies"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "19. Miso"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "20. Newman\u0027s Own Sesame Ginger Dressing"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "21. Red Curry Paste"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "22. Rosemary"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "23. Salt and pepper"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "24. Salted Turnip"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "25. Sambal"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "26. Sawtooth Coriander"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "27. Sea Salt"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "28. Shrimp Paste"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "29. Spicy dried red chilies"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "30. Thai Black Soy Sauce"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "31. Thai chili"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "32. Thai shrimp paste"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "33. Toasted sesame flakes"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "34. Tofu puffs"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "35. Tsuyu"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "36. Turmeric"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "37. Unsweetened Nut Butter"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "38. Wasabi"}
{"(ItemNumber + 1) + \u0027. \u0027 + products[ItemNumber].ProductName": "39. Yellow Bell Pepper"}
```

# find purchasing info for 10 products

list products that don't have a store associated with them, but limit to
10

Data cleanup is a pain in the ass and I want to take it in bite size
pieces, so randomize the list to keep me interested and return just 10
to keep me from being disheartended.

``` example
// fail:
// MATCH (product:Product)
// WHERE NOT (product)-[:PURCHASE_AT]->(:Store)
// WITH product
// ORDER BY RAND()
// RETURN product.name AS ProductName
// ORDER BY ProductName
// LIMIT 10;

// fail:
// MATCH (product:Product)
// WHERE NOT (product)-[:PURCHASE_AT]->(:Store)
// WITH product
// ORDER BY RAND()
// WITH COLLECT(product) AS randomProducts
// UNWIND randomProducts AS product
// RETURN product.name AS ProductName
// ORDER BY ProductName
// LIMIT 10;

// fail:
// MATCH (product:Product)
// WHERE NOT (product)-[:PURCHASE_AT]->(:Store)
// WITH product
// ORDER BY RAND()
// LIMIT 10
// RETURN product.name AS ProductName;

// fail:
// MATCH (product:Product)
// WHERE NOT (product)-[:PURCHASE_AT]->(:Store)
// WITH product
// ORDER BY RAND()
// LIMIT 10
// WITH COLLECT(product) AS randomProducts
// UNWIND randomProducts AS product
// ORDER BY product.name
// RETURN product.name AS ProductName;

// works:
MATCH (product:Product)
WHERE NOT (product)-[:PURCHASE_AT]->(:Store)
WITH product
ORDER BY RAND()
LIMIT 10
RETURN product.name AS ProductName
ORDER BY ProductName;
```

Results:

``` example
{"ProductName": "Aroy-D Coconut Milk"}
{"ProductName": "Korean Wild Sesame Oil"}
{"ProductName": "Mild dried red chilies"}
{"ProductName": "Rosemary"}
{"ProductName": "Salted Turnip"}
{"ProductName": "Tofu puffs"}
{"ProductName": "Turmeric"}
{"ProductName": "Unsweetened Nut Butter"}
{"ProductName": "Wasabi"}
{"ProductName": "Yellow Bell Pepper"}
```

# BAD: list the entity type the property is assocted with

This is crap. Results are duplicated.

``` example
MATCH (n)
UNWIND labels(n) AS label
UNWIND keys(n) AS propertyName
RETURN label, propertyName;
```

Results:

``` example
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
# ...truncated to 10 for brevity
```

# GOOD: list the entity type the property is assocted with

Here's how we can add distinct to eliminates duplicates…makes it not
crap.

``` example
MATCH (n)
UNWIND labels(n) AS label
UNWIND keys(n) AS propertyName
RETURN DISTINCT label, propertyName;
```

Results:

``` example
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "ytb"}
{"label": "Recipe", "propertyName": "name"}
{"label": "Recipe", "propertyName": "urls"}
{"label": "Store", "propertyName": "name"}
{"label": "Store", "propertyName": "urls"}
{"label": "Store", "propertyName": "origin"}
{"label": "Store", "propertyName": "notes"}
{"label": "Product", "propertyName": "type"}
{"label": "Product", "propertyName": "name"}
{"label": "Product", "propertyName": "urls"}
{"label": "Product", "propertyName": "brand"}
{"label": "Product", "propertyName": "comments"}
{"label": "Product", "propertyName": "details"}
{"label": "Product", "propertyName": "notes"}
{"label": "Product", "propertyName": "search"}
{"label": "Product", "propertyName": "detail"}
```

# list unique entities

``` example
MATCH (n)
WITH DISTINCT labels(n) AS distinctLabels, keys(n) AS propertyNames
UNWIND distinctLabels AS label
UNWIND propertyNames AS propertyName
RETURN DISTINCT label, propertyName;
```

Results:

``` example
{"label": "Person", "propertyName": "name"}
{"label": "Person", "propertyName": "urls"}
{"label": "Person", "propertyName": "ytb"}
{"label": "Recipe", "propertyName": "name"}
{"label": "Recipe", "propertyName": "urls"}
{"label": "Store", "propertyName": "name"}
{"label": "Store", "propertyName": "urls"}
{"label": "Store", "propertyName": "origin"}
{"label": "Store", "propertyName": "notes"}
{"label": "Product", "propertyName": "type"}
{"label": "Product", "propertyName": "name"}
{"label": "Product", "propertyName": "urls"}
{"label": "Product", "propertyName": "brand"}
{"label": "Product", "propertyName": "comments"}
{"label": "Product", "propertyName": "details"}
{"label": "Product", "propertyName": "notes"}
{"label": "Product", "propertyName": "search"}
{"label": "Product", "propertyName": "detail"}
```

# list CONTAINS relationships

This doesn't help in the least bit…the properties are identical…find a
better way.

``` example
MATCH ()-[r:CONTAINS]-()
UNWIND keys(r) AS propertyNames
RETURN type(r) AS type, propertyNames AS propertyName
ORDER BY type, propertyName;
```

Results:

``` example
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "quantity", "type": "CONTAINS"}
# ...truncated to 5 for brevity
```

# list unique CONTAINS relationship properties

``` example
MATCH ()-[r:CONTAINS]-()
UNWIND keys(r) AS propertyNames
RETURN DISTINCT type(r) AS type, propertyNames AS propertyName
ORDER BY type, propertyName;
```

Results:

``` example
{"propertyName": "quantity", "type": "CONTAINS"}
{"propertyName": "substitutes", "type": "CONTAINS"}
{"propertyName": "urls", "type": "CONTAINS"}
```

# list products with Google Drive photo urls

This fails

``` example
MATCH (p:Product)
WHERE EXISTS(p.urls) AND ANY(url IN p.urls WHERE url CONTAINS 'google')
RETURN p.name AS ProductName, p.urls AS URLs;
```

with error

``` example
[mtm@Shane-s-Note:poorclaim(master)]$ cypher-shell -a neo4j://localhost:7687 --file /Users/mtm/pdev/taylormonacelli/anythingflorida/query.cypher
The property existence syntax `... exists(variable.property)` is no longer supported. Please use `variable.property IS NOT NULL` instead. (line 2, column 7 (offset: 24))
"WHERE EXISTS(p.urls) AND ANY(url IN p.urls WHERE url CONTAINS 'google')"
     ^
[mtm@Shane-s-Note:poorclaim(master)]$
```

``` example
// this works as expected:

MATCH (p:Product)
WHERE p.urls IS NOT NULL AND ANY(url IN p.urls WHERE url CONTAINS 'photos.google.com')
RETURN p.name AS ProductName, p.urls AS URLs;
```

Results:

``` example
{"ProductName": "Bird\u0027s Eye Frozen Sweet Corn", "URLs": ["https://photos.google.com/photo/AF1QipMv3t4xn9yYGbv5cbemxEm5r381YlS6r2fCzUZA"]}
{"ProductName": "Chili Sauce", "URLs": ["https://thewoksoflife.com/wp-content/uploads/2020/07/chili-oil-recipe-18.jpg", "https://www.amazon.com/%E8%80%81%E5%B9%B2%E5%A6%88%E9%A6%99%E8%BE%A3%E8%84%86%E6%B2%B9%E8%BE%A3%E6%A4%92-Spicy-Chili-Crisp-7-41/dp/B07VHKTTR3/ref=asc_df_B07VHKTTR3/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=642112947349\u0026hvpos=\u0026hvnetw=g\u0026hvrand=12580253979732381700\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-1951193779579\u0026psc=1", "https://www.google.com/search?sca_esv=580857096\u0026sxsrf=AM9HkKmLh9FDQ0x5jNY12kJCSSbwO6Q3FA:1699539552211\u0026q=thai+and+true+hot+chili\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiJ8KiajreCAxWqAjQIHaMBDKYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=KDhcVOHe9yNjkM", "https://photos.google.com/photo/AF1QipMQPtIdU1_m3SkgBWs5RcE2QXFs2OnbbJAdaG9M"]}
{"ProductName": "Dried Shrimp", "URLs": ["https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883", "https://www.google.com/search?sca_esv=579651652\u0026sxsrf=AM9HkKlBKUS5rDWtKoKSgxss4PSHC4u0jA:1699211859653\u0026q=bdmp+dried+shrimp\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwiUtKu6ya2CAxVFIjQIHXeICOQQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=_WqiWb3wPqLdYM", "https://www.youtube.com/watch?v=dBSmCwUXZF0"]}
{"ProductName": "Eucerin Creme Daily Moisturizing Skin Calming", "URLs": ["https://photos.google.com/photo/AF1QipM2_uDtc-2Uc7XriFP3k4H0L_DxcvxVeYvgUlpG", "https://photos.google.com/photo/AF1QipM2_uDtc-2Uc7XriFP3k4H0L_DxcvxVeYvgUlpG"]}
{"ProductName": "Jasmine Rice", "URLs": ["https://photos.google.com/photo/AF1QipM0ragYoS8EjrRngQukQJH_U1hnen_ACdJyMqEV"]}
{"ProductName": "Kaffir lime leaves", "URLs": ["https://www.wholefoodsmarket.com/product/kaffir-lime%20leaves-b07q8ldbvj", "https://www.youtube.com/watch?v=4Qz5nC-DcKk", "https://www.safeway.com/shop/marketplace/product-details.970537048.html", "https://photos.google.com/photo/AF1QipPI_6_YxYIuCSAvP93sDoRcyFDjekCQjNSb3Ln0", "https://photos.google.com/photo/AF1QipPd_yNuI9VcQAFOwMSuvBx40o_sl4gAmCgBYNIQ", "https://www.youtube.com/watch?v=SB3AV7oHKiE"]}
{"ProductName": "Mint leaves", "URLs": ["https://photos.google.com/photo/AF1QipNrbFzt7g3nCOVFOmFa6geW-HODg2hilRdq4xl0"]}
{"ProductName": "Perilla Oil", "URLs": ["https://www.youtube.com/watch?v=VpAS3RarPi8", "https://megakfood.com/products/8801045448503", "https://photos.google.com/photo/AF1QipNe7d-KXSpC90FJ1uJNMnH1fMFZ6E8Qlzr_j3Q0", "https://photos.google.com/photo/AF1QipOLrXnJ8Bj20xFh5lg5yhm71ApUoRlT1z6_ZqnB", "https://photos.google.com/photo/AF1QipP8OZZvarZPkNnnaOOv3k_ng9doQzMeVZgONlxK"]}
{"ProductName": "Rice noodle sheets", "URLs": ["https://www.google.com/search?sca_esv=579554252\u0026sxsrf=AM9HkKlaWKZFra1JEJmQLagqVwu7lOpvPA:1699161392487\u0026q=rice+paper\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjyhdy5jayCAxWmADQIHTJBBhUQ0pQJegQIDxAB\u0026biw=1440\u0026bih=758\u0026dpr=2", "https://balancewithjess.com/hu-tieu-ap-chao/", "https://www.google.com/search?q=hu+tieu+xao+rice+sheets\u0026tbm=isch\u0026ved=2ahUKEwjExZejjayCAxU_JjQIHf97ACQQ2-cCegQIABAA\u0026oq=hu+tieu+xao+rice+sheets\u0026gs_lcp=CgNpbWcQAzoECCMQJzoFCAAQgAQ6BwgAEIoFEEM6BwgAEBgQgARQvQRYpRdgxRpoAHAAeACAATmIAecEkgECMTOYAQCgAQGqAQtnd3Mtd2l6LWltZ8ABAQ\u0026sclient=img\u0026ei=ASVHZYTBDb_M0PEP__eBoAI\u0026bih=758\u0026biw=1440#imgrc=il_S9C1t9kGChM", "https://www.foodsofjane.com/recipes/steamed-rice-rolls", "https://www.google.com/search?client=emacs\u0026sca_esv=579554252\u0026sxsrf=AM9HkKkMHZcCbxpmpXqsj48WrwEW--xssw:1699161240321\u0026q=Rice+noodle+sheets\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiPypTxjKyCAxW_MDQIHVJjDeYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=Vw7_7S7XaN_v6M", "https://photos.google.com/photo/AF1QipPM6Ts-zLh2dl10ono15alL7hCGwSCHhbOyav6v", "https://phohoa.com/", "https://www.google.com/search?q=pho+hoa+seattle\u0026oq=pho+hoa+seatt\u0026gs_lcrp=EgZjaHJvbWUqCggAEAAY4wIYgAQyCggAEAAY4wIYgAQyEAgBEC4YrwEYxwEYgAQYjgUyBggCEEUYOTIICAMQABgWGB4yCAgEEC4YFhgeMgoIBRAAGIYDGIoFMgYIBhBFGEDSAQg1Mjk1ajBqN6gCALACAA\u0026sourceid=chrome\u0026ie=UTF-8#lpg=cid:CgIgAQ%3D%3D,ik:CAoSLEFGMVFpcE40MXM4TXJDSzlDcFVRZWxBRHZPNUZXb1h5LWtIVFpaeHNnZm03", "https://timeline.google.com/maps/timeline?pli=1\u0026rapt=AEjHL4MhNWvrl4xjhvtinEYv8V8WTyxNYgSR-reE9VJgys6Ba7GccWm6B2Xi6Xa3uKxuR9rkftCXiinZ4f3LvAJGF9CnnqgrtUIGNdtCmaP1EhTNElp4eko\u0026pb=!1m2!1m1!1s2023-11-04", "https://www.google.com/search?client=emacs\u0026sca_esv=579833118\u0026sxsrf=AM9HkKmyvTZJVTjaoB4T2Is_emhNvlG1og:1699290431734\u0026q=rice+paper\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwimz7aU7q-CAxVkFjQIHXrWCSgQ0pQJegQIDhAB\u0026biw=1440\u0026bih=758\u0026dpr=2", "https://i0.wp.com/www.wokandkin.com/wp-content/uploads/2021/04/Rice-Paper-saved-for-web-1200-px.png?w=1200\u0026ssl=1"]}
{"ProductName": "Rice vermicelli", "URLs": ["https://photos.google.com/photo/AF1QipPPETrmRSh8-h9guEbb90DRig4g_njAUvQ50Ol6", "https://photos.google.com/photo/AF1QipMYLPcT9Oybki3TQGztAT1X5tIxpknKSJ0ZmdlP", "https://www.amazon.com/Fresh-Stick-Vermicelli-SIMPLY-FOOD/dp/B08NXVTFTP/ref=asc_df_B08NXVTFTP/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=652498065761\u0026hvpos=\u0026hvnetw=g\u0026hvrand=10598234170837115346\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-2065471401768\u0026psc=1", "https://www.amazon.com/Fresh-Stick-Vermicelli-SIMPLY-FOOD/dp/B08NXVTFTP/ref=asc_df_B08NXVTFTP/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=652498065761\u0026hvpos=\u0026hvnetw=g\u0026hvrand=10598234170837115346\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-2065471401768\u0026psc=1"]}
{"ProductName": "Signature Care Baby Lotion", "URLs": ["https://www.google.com/search?client=emacs\u0026sca_esv=580645679\u0026sxsrf=AM9HkKmFAe6c5ttC3Glgq4OAYuHfy2tEjw:1699487253983\u0026q=Signature+Care+baby+lotion\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjopsuwy7WCAxWzFTQIHdjcCGIQ0pQJegQIDhAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=0Cnl_Uyq2nmiBM", "https://photos.google.com/photo/AF1QipPtyZkpbFq-ZvHy5JD9WYAiDFBvmkPXB_pFNjPL"]}
{"ProductName": "Tamarind Liquid", "URLs": ["https://photos.google.com/photo/AF1QipMTNoAmEBIUBgJiziw2Tl16y2KscVqpjfDGlS-q", "https://photos.google.com/photo/AF1QipPd47xo0JnbBdfR9pbd6FgvPRvxghQoP_wmWxph"]}
{"ProductName": "Mae Ploy Thai Chili Paste in Oil", "URLs": ["https://youtu.be/hhcYNjeQ_XY?list=PLaS2Ffd8cyD7SL49uWtqbfuUBmLi9nVup\u0026t=433", "https://photos.google.com/photo/AF1QipNWHU8huzjTXkKBm0l9ehnPAJFm5J_jea8kU5KL"]}
```

# GOOD: list relation entities and their properties

GOOD: list relations, not just CONTAINS and show relation properties

This fixes the item in section: 'BAD: list relations, not just CONTAINS
and show relation properties'

``` example
MATCH ()-[r]-()
RETURN DISTINCT type(r) AS type,
                CASE WHEN size(keys(r)) > 0 THEN keys(r) ELSE [] END AS propertyNames
ORDER BY type, propertyNames;
```

Results:

``` example
{"propertyNames": [], "type": "CONTAINS"}
{"propertyNames": ["quantity"], "type": "CONTAINS"}
{"propertyNames": ["quantity", "urls"], "type": "CONTAINS"}
{"propertyNames": ["substitutes", "quantity", "urls"], "type": "CONTAINS"}
{"propertyNames": [], "type": "CREATED"}
{"propertyNames": [], "type": "IS_THE_SAME_AS"}
{"propertyNames": [], "type": "PURCHASE_AT"}
{"propertyNames": ["url"], "type": "PURCHASE_AT"}
{"propertyNames": ["urls"], "type": "PURCHASE_AT"}
{"propertyNames": ["urls", "aisle"], "type": "PURCHASE_AT"}
{"propertyNames": ["urls"], "type": "RECOMMENDS"}
```

# identify stores for recipe ingredients

suppose I would like to make a particular recipe, then what stores do I
need to visit?

``` example
MATCH (r:Recipe)
WHERE r.name IN ['Vietnamese Spring Rolls (Gỏi Cuốn)']
WITH r
MATCH (r)-[:CONTAINS]->(p:Product)
OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
WITH p, COLLECT(DISTINCT s) AS stores
RETURN COLLECT(DISTINCT p.name) AS Products,
       [store IN stores | CASE WHEN store IS NOT NULL THEN store.name ELSE 'Unknown' END] AS Stores
ORDER BY [store IN Stores | toLower(store)];
```

Results:

``` example
{"Products": ["Water"], "Stores": ["dummy place holder"]}
{"Products": ["Shrimp"], "Stores": ["Hau Hau Market"]}
{"Products": ["Rice vermicelli"], "Stores": ["Lam\u0027s Seafood Asian Market"]}
{"Products": ["Dry-Roasted Peanuts"], "Stores": ["PCC"]}
{"Products": ["Lee Kum Kee Sauce Hoisin"], "Stores": ["QFC"]}
{"Products": ["Ginger", "Adams Peanut Butter", "Romaine Lettuce", "Shallots", "Vegetable Oil"], "Stores": ["Safeway"]}
{"Products": ["Garlic"], "Stores": ["Trader Joe\u0027s"]}
{"Products": ["Rice paper"], "Stores": ["Uwajimaya"]}
{"Products": ["Mint leaves"], "Stores": ["Uwajimaya", "M2M Mart"]}
```

# find stores for Chicken Teriyaki ingredients

suppose I were to make Chicken Teriyaki, then what stores need I visit
to get products I'd need for it?

``` example
MATCH (r:Recipe {name: 'Chicken Teriyaki Recipe'})-[:CONTAINS]->(p:Product)
MATCH (p)-[:PURCHASE_AT]->(s:Store)
RETURN s.name AS Store, COLLECT(DISTINCT p.name) AS Products;
```

Results:

``` example
{"Products": ["Thai-style Baked Tofu"], "Store": "Hau Hau Market"}
{"Products": ["Thai-style Baked Tofu"], "Store": "Thanh Son Tofu"}
{"Products": ["Ginger", "Corn Starch", "Broccolini", "Rice Wine Vinegar - Kikkoman Mirin", "Soy sauce"], "Store": "Safeway"}
{"Products": ["Rice", "Rice Wine Vinegar - Kikkoman Mirin"], "Store": "Uwajimaya"}
{"Products": ["Water"], "Store": "dummy place holder"}
{"Products": ["Chicken Thighs"], "Store": "Madison Co-op"}
{"Products": ["Red Onion", "Garlic", "Red Pepper"], "Store": "Trader Joe\u0027s"}
{"Products": ["Sesame Seeds"], "Store": "Naked Grocer"}
{"Products": ["Sesame Seeds"], "Store": "PCC"}
{"Products": ["Rice Wine Vinegar - Kikkoman Mirin", "Sake Wine"], "Store": "M2M Mart"}
```

# streamline shopping for recipes

suppose I would like to make 2 recipes, then what stores do I need to
visit?

``` example
MATCH (r:Recipe)
WHERE r.name IN ['Vietnamese Spring Rolls (Gỏi Cuốn)','Tom Yum Goong']
WITH r
MATCH (r)-[:CONTAINS]->(p:Product)
OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
WITH p, COLLECT(DISTINCT s) AS stores
RETURN COLLECT(DISTINCT p.name) AS Products,
       [store IN stores | CASE WHEN store IS NOT NULL THEN store.name ELSE 'Unknown' END] AS Stores
ORDER BY [store IN Stores | toLower(store)];
```

Results:

``` example
{"Products": ["Sawtooth Coriander"], "Stores": []}
{"Products": ["Water"], "Stores": ["dummy place holder"]}
{"Products": ["Shrimp", "Fish sauce"], "Stores": ["Hau Hau Market"]}
{"Products": ["Kaffir lime leaves"], "Stores": ["Hau Hau Market", "Uwajimaya"]}
{"Products": ["Rice vermicelli"], "Stores": ["Lam\u0027s Seafood Asian Market"]}
{"Products": ["Thai chilies"], "Stores": ["Lam\u0027s Seafood Asian Market", "Uwajimaya"]}
{"Products": ["Mae Ploy Thai Chili Paste in Oil"], "Stores": ["M2M Mart"]}
{"Products": ["Jasmine Rice", "Dry-Roasted Peanuts"], "Stores": ["PCC"]}
{"Products": ["Ka-Me Whole Peeled Straw Mushrooms", "Lee Kum Kee Sauce Hoisin"], "Stores": ["QFC"]}
{"Products": ["Lemongrass", "Evaporated Milk", "Oyster Mushrooms", "Ginger", "Adams Peanut Butter", "Romaine Lettuce", "Shallots", "Vegetable Oil"], "Stores": ["Safeway"]}
{"Products": ["Garlic"], "Stores": ["Trader Joe\u0027s"]}
{"Products": ["Galangal", "Rice paper"], "Stores": ["Uwajimaya"]}
{"Products": ["Mint leaves"], "Stores": ["Uwajimaya", "M2M Mart"]}
{"Products": ["Lime juice"], "Stores": ["Whole Foods"]}
```

# minimize travel for recipe ingredients

If I would like to make a particular recipe, then what stores do I need
to visit and sort products by stores so I don't have to leave and return
because I didn't realize there were two products from the same store

Also, make sure that if a recipe has an item that is not assigned to a
store by the PURCAHSE<sub>AT</sub> relation, then the store field
appears empty as opposed to not seeing the product at all

``` example
MATCH (r:Recipe {name: 'Korean Sesame Noodles'})-[:CONTAINS]->(p:Product)
OPTIONAL MATCH (p)-[:PURCHASE_AT]->(s:Store)
WITH p, COLLECT(DISTINCT s) AS stores
RETURN COLLECT(DISTINCT p.name) AS Products,
       [store IN stores | CASE WHEN store IS NOT NULL THEN store.name ELSE 'Unknown' END] AS Stores
ORDER BY [store IN Stores | toLower(store)];
```

Results:

``` example
{"Products": ["Tsuyu", "Korean Wild Sesame Oil"], "Stores": []}
{"Products": ["Chili Oil", "Soba Noodles", "Toasted Seaweed"], "Stores": ["M2M Mart"]}
{"Products": ["Toasted Sesame Seeds"], "Stores": ["Madison Co-op"]}
{"Products": ["Sesame Seeds"], "Stores": ["Naked Grocer", "PCC"]}
{"Products": ["Green Onion", "Red Chilli Peppers"], "Stores": ["Safeway"]}
```

# BAD: remove duplicate ingredients

BAD: some recipes point to the same product multiple times by mistake

This doesn't do what I expect. Need to spend more time iterating.

``` example
MATCH (r:Recipe)-[:CONTAINS]->(p:Product)
WITH r, COLLECT(p) AS products
WHERE SIZE(products) > 1
RETURN r, products;
```

Results:

``` example
{"products": [{"name": "Extra Virgin Olive Oil", "type": "Olive Oil"}, {"name": "Salt", "type": "Salt"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Ground Cumin", "type": "Cumin"}, {"name": "Onion", "type": "Onion"}, {"name": "Red Onion", "type": "Red Onion"}, {"name": "Black Beans", "type": "Black Beans"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Black Pepper", "type": "Black Pepper"}, {"name": "Chicken Broth", "type": "Broth"}], "r": {"name": "Easy Black Bean Soup", "urls": ["https://www.food.com/recipe/easy-black-bean-soup-59796?ftab=reviews#activity-feed"]}}
{"products": [{"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Light Brown Sugar", "type": "Brown Sugar"}, {"name": "Cooking Oil", "type": "Cooking Oil"}, {"name": "Chicken Stock or Water", "type": "Chicken Stock"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Zucchini", "type": "Zucchini"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Thai basil", "type": "Herb", "urls": ["https://www.fredmeyer.com/p/simple-truth-organic-thai-basil/0001111001922"]}, {"name": "Boneless Chicken Thighs", "type": "Chicken"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Onion", "type": "Onion"}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Red Bell Pepper", "type": "Bell Pepper"}, {"name": "Red Curry Paste", "type": "Curry Paste"}, {"name": "Lemon Juice", "type": "Lemon Juice"}], "r": {"name": "Chicken Thai Red Curry", "urls": ["https://theflavoursofkitchen.com/wprm_print/104534"]}}
{"products": [{"name": "Buckwheat Soba Nodles", "type": "Noodle", "urls": ["https://www.amazon.com/gp/product/B00101YEBO", "https://veggiekinsblog.com/2020/01/13/vegan-zaru-soba/"]}, {"name": "Japanese Nori", "type": "Nori", "urls": ["https://www.google.com/search?client=emacs\u0026sca_esv=577922779\u0026sxsrf=AM9HkKkUxzT-KjHg9ziVgvqz5Zsqmn7xdw:1698703946500\u0026q=Japanese+nori\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwi647yq5Z6CAxVxMjQIHRW8BBYQ0pQJegQIChAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}, {"name": "Perilla Oil", "type": "Oil", "urls": ["https://www.youtube.com/watch?v=VpAS3RarPi8", "https://megakfood.com/products/8801045448503", "https://photos.google.com/photo/AF1QipNe7d-KXSpC90FJ1uJNMnH1fMFZ6E8Qlzr_j3Q0", "https://photos.google.com/photo/AF1QipOLrXnJ8Bj20xFh5lg5yhm71ApUoRlT1z6_ZqnB", "https://photos.google.com/photo/AF1QipP8OZZvarZPkNnnaOOv3k_ng9doQzMeVZgONlxK"]}], "r": {"name": "Cold Soba With Periall Oil dresssing", "urls": ["https://food52.com/recipes/print/86501", "https://www.youtube.com/watch?v=VpAS3RarPi8"]}}
{"products": [{"name": "Tamari", "type": "Tamari"}, {"name": "Extra Firm Tofu", "type": "Tofu"}, {"name": "Black Pepper", "type": "Black Pepper"}, {"name": "Corn Starch", "type": "Corn Starch"}, {"name": "Avocado Oil", "type": "Avocado Oil"}, {"name": "Morton Salt Kosher Coarse", "type": "Kosher Salt"}, {"name": "Garlic Powder", "type": "Garlic"}], "r": {"name": "Crispy Baked Tofu", "urls": ["https://cleananddelicious.com/wprm_print/26940"]}}
{"products": [{"name": "Chinese Broccoli", "type": "Broccoli"}, {"name": "Thai chili", "type": "Chilies"}, {"name": "Soy sauce", "type": "Soy sauce"}, {"name": "Shrimp", "type": "Shrimp"}, {"name": "Shallots", "type": "Shallots"}, {"name": "Shrimp", "type": "Shrimp"}, {"name": "White pepper", "type": "White pepper"}, {"name": "Basil", "type": "Basil"}, {"name": "Lime", "type": "Lime"}, {"name": "Pork", "type": "Pork"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Rice noodle sheets", "search": ["Rice noodle sheets"], "type": "Rice noodle sheets", "urls": ["https://www.google.com/search?sca_esv=579554252\u0026sxsrf=AM9HkKlaWKZFra1JEJmQLagqVwu7lOpvPA:1699161392487\u0026q=rice+paper\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwjyhdy5jayCAxWmADQIHTJBBhUQ0pQJegQIDxAB\u0026biw=1440\u0026bih=758\u0026dpr=2", "https://balancewithjess.com/hu-tieu-ap-chao/", "https://www.google.com/search?q=hu+tieu+xao+rice+sheets\u0026tbm=isch\u0026ved=2ahUKEwjExZejjayCAxU_JjQIHf97ACQQ2-cCegQIABAA\u0026oq=hu+tieu+xao+rice+sheets\u0026gs_lcp=CgNpbWcQAzoECCMQJzoFCAAQgAQ6BwgAEIoFEEM6BwgAEBgQgARQvQRYpRdgxRpoAHAAeACAATmIAecEkgECMTOYAQCgAQGqAQtnd3Mtd2l6LWltZ8ABAQ\u0026sclient=img\u0026ei=ASVHZYTBDb_M0PEP__eBoAI\u0026bih=758\u0026biw=1440#imgrc=il_S9C1t9kGChM", "https://www.foodsofjane.com/recipes/steamed-rice-rolls", "https://www.google.com/search?client=emacs\u0026sca_esv=579554252\u0026sxsrf=AM9HkKkMHZcCbxpmpXqsj48WrwEW--xssw:1699161240321\u0026q=Rice+noodle+sheets\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiPypTxjKyCAxW_MDQIHVJjDeYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=Vw7_7S7XaN_v6M", "https://photos.google.com/photo/AF1QipPM6Ts-zLh2dl10ono15alL7hCGwSCHhbOyav6v", "https://phohoa.com/", "https://www.google.com/search?q=pho+hoa+seattle\u0026oq=pho+hoa+seatt\u0026gs_lcrp=EgZjaHJvbWUqCggAEAAY4wIYgAQyCggAEAAY4wIYgAQyEAgBEC4YrwEYxwEYgAQYjgUyBggCEEUYOTIICAMQABgWGB4yCAgEEC4YFhgeMgoIBRAAGIYDGIoFMgYIBhBFGEDSAQg1Mjk1ajBqN6gCALACAA\u0026sourceid=chrome\u0026ie=UTF-8#lpg=cid:CgIgAQ%3D%3D,ik:CAoSLEFGMVFpcE40MXM4TXJDSzlDcFVRZWxBRHZPNUZXb1h5LWtIVFpaeHNnZm03", "https://timeline.google.com/maps/timeline?pli=1\u0026rapt=AEjHL4MhNWvrl4xjhvtinEYv8V8WTyxNYgSR-reE9VJgys6Ba7GccWm6B2Xi6Xa3uKxuR9rkftCXiinZ4f3LvAJGF9CnnqgrtUIGNdtCmaP1EhTNElp4eko\u0026pb=!1m2!1m1!1s2023-11-04", "https://www.google.com/search?client=emacs\u0026sca_esv=579833118\u0026sxsrf=AM9HkKmyvTZJVTjaoB4T2Is_emhNvlG1og:1699290431734\u0026q=rice+paper\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwimz7aU7q-CAxVkFjQIHXrWCSgQ0pQJegQIDhAB\u0026biw=1440\u0026bih=758\u0026dpr=2", "https://i0.wp.com/www.wokandkin.com/wp-content/uploads/2021/04/Rice-Paper-saved-for-web-1200-px.png?w=1200\u0026ssl=1"]}, {"name": "Red Chilli Peppers", "type": "Chilli Pepper"}, {"name": "Dark soy sauce", "type": "Soy Sauce"}, {"name": "Oyster Sauce", "type": "Oyster Sauce"}, {"name": "Chicken", "type": "Chicken"}, {"name": "Thai-style Baked Tofu", "type": "Tofu"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Cooking Oil", "type": "Cooking Oil"}, {"name": "Palm Sugar", "type": "Sugar"}], "r": {"name": "The Best Drunken Noodles", "urls": ["https://seonkyounglongest.com/drunken-noodles/", "https://seonkyounglongest.com/drunken-noodles/print/27100/"]}}
{"products": [{"name": "Semi-pearled Farro", "type": "Farro"}, {"name": "Oil-packed sun-dried tomatoes", "type": "Sundried Tomatoes"}, {"name": "Fresh flat-leaf parsley", "type": "Flat-leaf parsley"}, {"name": "Pine Nuts", "type": "Pine nuts"}, {"name": "Salt", "type": "Salt"}, {"name": "Extra Virgin Olive Oil", "type": "Olive Oil"}, {"name": "Red Onion", "type": "Red Onion"}, {"name": "Red wine vinegar", "type": "Vinegar"}, {"name": "Black Pepper", "type": "Black Pepper"}, {"name": "Artichoke Hearts", "type": "Artichokes"}], "r": {"name": "Farro Salad with Artichoke Hearts", "urls": ["https://www.williams-sonoma.com/recipe/farro-salad-with-artichoke-hearts.html?print=true"]}}
{"products": [{"name": "Toasted Sesame Oil", "type": "Sesame Oil"}, {"name": "Maple Syrup", "type": "Maple Syrup"}, {"name": "Ginger Powder", "type": "Ginger Powder"}, {"name": "Apple Cider Vinegar", "type": "Apple Cider Vinegar"}, {"name": "Coconut Aminos", "type": "Soy Sauce Alternative"}, {"name": "Unsweetened Nut Butter", "type": "Unsweetened Nut Butter"}], "r": {"name": "Ginger Sesame Dressing", "urls": ["https://www.meghanlivingstone.com/ginger-sesame-dressing/", "https://www.meghanlivingstone.com/wprm_print/2060"]}}
{"products": [{"name": "Salt", "type": "Salt"}, {"name": "Black Pepper", "type": "Black Pepper"}, {"name": "Feta Cheese", "type": "Cheese"}, {"name": "Extra Virgin Olive Oil", "type": "Olive Oil"}, {"name": "Lemon Juice", "type": "Lemon Juice"}, {"name": "Grape Tomatoes", "type": "Tomatoes"}, {"name": "Red Onion", "type": "Red Onion"}, {"name": "Kalamata Olives", "type": "Olives"}, {"name": "Yellow Bell Pepper", "type": "Bell Pepper"}, {"name": "Red Bell Pepper", "type": "Bell Pepper"}, {"name": "Green Bell Pepper", "type": "Bell Pepper"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Cucumber", "type": "Cucumber"}, {"name": "Oregano", "type": "Oregano"}, {"name": "Chickpeas", "type": "Chickpeas"}], "r": {"name": "The Easiest Chickpea Greek Salad", "urls": ["https://www.ambitiouskitchen.com/wprm_print/24776"]}}
{"products": [{"name": "Green Onion", "type": "Onion"}, {"name": "Chili Oil", "type": "Chili Oil"}, {"name": "Tsuyu", "search": ["tsuyu soup seasoning sauce"], "type": "Tsuyu", "urls": ["https://www.google.com/search?q=tsuyu+soup+seasoning+sauce\u0026oq=tsuyu+soup+seasoning+sauce"]}, {"name": "Red Chilli Peppers", "type": "Chilli Pepper"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "Sesame Seeds", "type": "Sesame Seeds"}, {"name": "Green Onion", "type": "Onion"}, {"name": "Toasted Sesame Seeds", "type": "Sesame Seeds"}, {"name": "Toasted Seaweed", "type": "Seaweed"}, {"name": "Korean Wild Sesame Oil", "type": "Sesame Oil"}], "r": {"name": "Korean Sesame Noodles", "urls": ["https://seonkyounglongest.com/korean-sesame-noodles/print/46266/"]}}
{"products": [{"name": "Galangal", "type": "Galangal"}, {"name": "Fish cakes", "type": "Seafood", "urls": ["https://youtu.be/cWtnFKFiB_0?t=458"]}, {"name": "Garlic", "type": "Garlic"}, {"name": "Dried Shrimp", "type": "Seafood", "urls": ["https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883", "https://www.google.com/search?sca_esv=579651652\u0026sxsrf=AM9HkKlBKUS5rDWtKoKSgxss4PSHC4u0jA:1699211859653\u0026q=bdmp+dried+shrimp\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwiUtKu6ya2CAxVFIjQIHXeICOQQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=_WqiWb3wPqLdYM", "https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Thai chilies", "type": "Pepper"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Fermented shrimp paste", "type": "Fermented shrimp paste", "urls": ["https://thewoksoflife.com/shrimp-paste-sauce/"]}, {"name": "Shallots", "type": "Shallots"}, {"name": "Mung Bean Sprouts", "type": "Mung Bean Sprouts", "urls": ["https://www.pennilessparenting.com/2020/05/how-to-make-homemade-non-bitter-mung.html"]}, {"name": "Tofu puffs", "type": "Tofu"}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}, {"name": "Candlenuts", "type": "Candlenuts", "urls": ["https://www.google.com/search?client=emacs\u0026sca_esv=580758711\u0026sxsrf=AM9HkKmwGL8OAnRZ8-PJqCLp_VU9-SlJfg:1699507479310\u0026q=Candlenuts\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiwsOPclraCAxVVETQIHabkCi0Q0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=7uHbBToP7aPjSM"]}, {"name": "Clams", "type": "Clams"}, {"name": "Turmeric", "type": "Turmeric"}, {"name": "Laksa leaves", "type": "Herb"}, {"name": "Mild dried red chilies", "type": "Dry Chilies"}, {"name": "Shrimp", "type": "Shrimp"}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Water", "type": "Water"}, {"name": "Sambal", "type": "Condiment"}, {"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Dry rice noodles", "type": "Rice Noodles"}], "r": {"name": "Laksa", "urls": ["https://hot-thai-kitchen.com/singaporean-laksa/print/7645/", "https://hot-thai-kitchen.com/singaporean-laksa/", "https://www.youtube.com/watch?v=cWtnFKFiB_0"]}}
{"products": [{"details": "Ho Fun Sheets", "name": "Wide rice noodles", "type": "Rice Noodles", "urls": ["https://youtu.be/Ohy1DELF4is?t=189", "https://www.google.com/search?sca_esv=581639650\u0026sxsrf=AM9HkKnNSg_CXeb5rL6VVewE6ryVhODJhg:1699766709342\u0026q=ho+fun+sheet\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwi68aS33L2CAxXULzQIHXMzBS4Q0pQJegQICxAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=eu2r6ySa6xkfhM", "https://youtu.be/5odVRW9ldzU?t=323"]}, {"brand": "Dragon Fly", "details": "Don\u0027t get one with blue cap, must be orange cap", "name": "Kwong Hung Seng Black Soy Sauce", "type": "Kwong Hung Seng Black Soy Sauce", "urls": ["https://www.amazon.com/Kwong-Hung-Seng-Black-Sauce/dp/B081ZC8STN/ref=asc_df_B081ZC8STN/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=475718186634\u0026hvpos=\u0026hvnetw=g\u0026hvrand=2457386826081397744\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-1187985835872\u0026th=1", "https://youtu.be/Ohy1DELF4is?t=120"]}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}, {"name": "Golden Mountain Sauce", "type": "Golden Mountain Sauce", "urls": ["https://www.google.com/search?q=Golden+Mountain+Sauce+near+me\u0026tbm=isch\u0026ved=2ahUKEwiSop3T172CAxWmJjQIHUbyAcwQ2-cCegQIABAA\u0026oq=Golden+Mountain+Sauce+near+me\u0026gs_lcp=CgNpbWcQAzIHCAAQGBCABDoECCMQJzoHCAAQigUQQzoFCAAQgAQ6BggAEAcQHjoGCAAQCBAeOgQIABAeOgYIABAFEB5QqwRY8xBggBRoAHAAeACAAT6IAd4DkgEBOZgBAKABAaoBC2d3cy13aXotaW1nwAEB\u0026sclient=img\u0026ei=sVxQZdKFLqbN0PEPxuSH4Aw\u0026bih=754\u0026biw=1440\u0026client=emacs#imgrc=bhSiLxLZI-38DM", "https://youtu.be/Ohy1DELF4is?t=112", "https://youtu.be/Ohy1DELF4is?t=86", "https://www.google.com/search?client=emacs\u0026sca_esv=581632289\u0026sxsrf=AM9HkKlt749Qe7wh-onttGBzKpSH612ZhQ:1699765017124\u0026q=Golden+Mountain+Sauce\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjGirCQ1r2CAxXfHDQIHXE7B-8Q0pQJegQIDhAB\u0026biw=1440\u0026bih=754\u0026dpr=2"]}, {"name": "Oyster Sauce", "type": "Oyster Sauce"}, {"name": "Eggs", "type": "Eggs"}, {"name": "Chinese Broccoli", "type": "Broccoli"}, {"name": "Vegetable Oil", "type": "Vegetable Oil"}, {"name": "Thai-style Baked Tofu", "type": "Tofu"}, {"name": "Garlic", "type": "Garlic"}, {"name": "White pepper", "type": "White pepper"}, {"name": "Thai Black Soy Sauce", "type": "Thai Black Soy Sauce"}], "r": {"name": "Pad See Ew 2", "urls": ["https://www.youtube.com/watch?v=Ohy1DELF4is", "https://hot-thai-kitchen.com/pad-see-ew-new/#tasty-recipes-6669-jump-target", "https://hot-thai-kitchen.com/pad-see-ew-new/print/6669/"]}}
{"products": [{"details": "Ho Fun Sheets", "name": "Wide rice noodles", "type": "Rice Noodles", "urls": ["https://youtu.be/Ohy1DELF4is?t=189", "https://www.google.com/search?sca_esv=581639650\u0026sxsrf=AM9HkKnNSg_CXeb5rL6VVewE6ryVhODJhg:1699766709342\u0026q=ho+fun+sheet\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwi68aS33L2CAxXULzQIHXMzBS4Q0pQJegQICxAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=eu2r6ySa6xkfhM", "https://youtu.be/5odVRW9ldzU?t=323"]}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}, {"name": "Dark soy sauce", "type": "Soy Sauce"}, {"name": "Eggs", "type": "Eggs"}, {"name": "Distilled white vinegar", "type": "Vinegar"}, {"name": "Chinese Broccoli", "type": "Broccoli"}, {"name": "White pepper", "type": "White pepper"}, {"name": "Corn Starch", "type": "Corn Starch"}, {"name": "Thai bird chiles", "type": "Chilies", "urls": ["https://en.wikipedia.org/wiki/Bird%27s_eye_chili", "https://www.google.com/search?client=emacs\u0026sca_esv=579702589\u0026sxsrf=AM9HkKlqpOqf2K4ex4TTB1e3ix-WBqYAKQ:1699243036206\u0026q=Thai+bird+chiles\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjHnL3Mva6CAxVaCjQIHdJRCxEQ0pQJegQIDxAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=u6dinAhHDxTfaM"]}, {"name": "Soy sauce", "type": "Soy sauce"}, {"name": "Oyster Sauce", "type": "Oyster Sauce"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Skirt steak", "type": "Beef"}, {"name": "Vegetable Oil", "type": "Vegetable Oil"}], "r": {"name": "Pad See Ew", "urls": ["https://www.foodandwine.com/pad-see-ew-7559639?print"]}}
{"products": [{"name": "Shrimp", "type": "Shrimp"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Dry-Roasted Peanuts", "type": "Peanuts"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}, {"name": "Salted Turnip", "type": "Salted Turnip", "urls": ["https://www.amazon.com/8oz-Salted-Turnip-Pack/dp/B01578SHHW"]}, {"name": "Lime", "type": "Lime"}, {"name": "Garlic Chives", "type": "Chives", "urls": ["https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Chicken", "type": "Chicken"}, {"name": "Banana Leaf", "type": "Banana Leaf"}, {"name": "Tamarind Paste", "type": "Tamarind Paste"}, {"name": "Sweet Paprika", "type": "Paprika"}, {"name": "Lime juice", "type": "Lime juice"}, {"name": "Dried Shrimp", "type": "Seafood", "urls": ["https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883", "https://www.google.com/search?sca_esv=579651652\u0026sxsrf=AM9HkKlBKUS5rDWtKoKSgxss4PSHC4u0jA:1699211859653\u0026q=bdmp+dried+shrimp\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwiUtKu6ya2CAxVFIjQIHXeICOQQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=_WqiWb3wPqLdYM", "https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Chili Sauce", "type": "Chili Sauce", "urls": ["https://thewoksoflife.com/wp-content/uploads/2020/07/chili-oil-recipe-18.jpg", "https://www.amazon.com/%E8%80%81%E5%B9%B2%E5%A6%88%E9%A6%99%E8%BE%A3%E8%84%86%E6%B2%B9%E8%BE%A3%E6%A4%92-Spicy-Chili-Crisp-7-41/dp/B07VHKTTR3/ref=asc_df_B07VHKTTR3/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=642112947349\u0026hvpos=\u0026hvnetw=g\u0026hvrand=12580253979732381700\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-1951193779579\u0026psc=1", "https://www.google.com/search?sca_esv=580857096\u0026sxsrf=AM9HkKmLh9FDQ0x5jNY12kJCSSbwO6Q3FA:1699539552211\u0026q=thai+and+true+hot+chili\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiJ8KiajreCAxWqAjQIHaMBDKYQ0pQJegQIDBAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=KDhcVOHe9yNjkM", "https://photos.google.com/photo/AF1QipMQPtIdU1_m3SkgBWs5RcE2QXFs2OnbbJAdaG9M"]}, {"name": "Mung Bean Sprouts", "type": "Mung Bean Sprouts", "urls": ["https://www.pennilessparenting.com/2020/05/how-to-make-homemade-non-bitter-mung.html"]}, {"name": "Vegetable Oil", "type": "Vegetable Oil"}, {"name": "Eggs", "type": "Eggs"}, {"name": "Rice Sticks", "type": "Rice Noodles", "urls": ["https://www.google.com/search?q=Rice%20Sticks"]}, {"name": "Rice Wine Vinegar", "type": "Rice Wine Vinegar"}, {"name": "Thai-style Baked Tofu", "type": "Tofu"}], "r": {"name": "Pad Thai", "urls": ["https://www.foodnetwork.com/recipes/pad-thai-7112938?soc=youtube"]}}
{"products": [{"name": "Shrimp", "type": "Shrimp"}, {"name": "Lime", "type": "Lime"}, {"name": "Grounded Roasted Peanuts", "type": "Peanuts"}, {"name": "Dried Shrimp", "type": "Seafood", "urls": ["https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883", "https://www.google.com/search?sca_esv=579651652\u0026sxsrf=AM9HkKlBKUS5rDWtKoKSgxss4PSHC4u0jA:1699211859653\u0026q=bdmp+dried+shrimp\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026sqi=2\u0026ved=2ahUKEwiUtKu6ya2CAxVFIjQIHXeICOQQ0pQJegQIDRAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=_WqiWb3wPqLdYM", "https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Rice Stick Noodles", "type": "Rice Noodles"}, {"name": "Garlic Chives", "type": "Chives", "urls": ["https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Palm Sugar", "type": "Sugar"}, {"name": "Tamarind Liquid", "type": "Tamarind Liquid", "urls": ["https://photos.google.com/photo/AF1QipMTNoAmEBIUBgJiziw2Tl16y2KscVqpjfDGlS-q", "https://photos.google.com/photo/AF1QipPd47xo0JnbBdfR9pbd6FgvPRvxghQoP_wmWxph"]}, {"name": "Pressed Tofu", "type": "Tofu"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Shallots", "type": "Shallots"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Sweetened Radish", "type": "Sweetened Radish", "urls": ["https://www.google.com/search?q=Sweetened+Radish\u0026tbm=isch\u0026chips=q:sweet+radish,g_1:pad+thai:jagT0YaAv9M%3D\u0026client=emacs\u0026hl=en\u0026sa=X\u0026ved=2ahUKEwj-mLvS56-CAxWKFjQIHTmHCrEQ4lYoAHoECAEQNQ\u0026biw=1440\u0026bih=758#imgrc=8T2ZeEeH0IL-QM"]}, {"name": "Mung Bean Sprouts", "type": "Mung Bean Sprouts", "urls": ["https://www.pennilessparenting.com/2020/05/how-to-make-homemade-non-bitter-mung.html"]}, {"name": "Eggs", "type": "Eggs"}, {"name": "Roasted Chili Flakes", "type": "Chili Flakes"}], "r": {"name": "Pad Thai", "urls": ["https://www.youtube.com/watch?v=9ANH-tkkBrg"]}}
{"products": [{"name": "Garlic", "type": "Garlic"}, {"name": "Sriracha", "type": "Sriracha"}, {"name": "Water", "type": "Water"}, {"name": "Adams Peanut Butter", "type": "Peanut Butter"}, {"name": "Soy sauce", "type": "Soy sauce"}, {"name": "Rice vinegar", "type": "Vinegar"}, {"name": "Brown Sugar", "type": "Sugar"}], "r": {"name": "Peanut Sauce", "urls": ["https://www.evolvingtable.com/peanut-sauce/"]}}
{"products": [{"name": "Lime juice", "type": "Lime juice"}, {"name": "Garlic Chives", "type": "Chives", "urls": ["https://www.youtube.com/watch?v=dBSmCwUXZF0"]}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Brown Sugar", "type": "Sugar"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Thai bird chiles", "type": "Chilies", "urls": ["https://en.wikipedia.org/wiki/Bird%27s_eye_chili", "https://www.google.com/search?client=emacs\u0026sca_esv=579702589\u0026sxsrf=AM9HkKlqpOqf2K4ex4TTB1e3ix-WBqYAKQ:1699243036206\u0026q=Thai+bird+chiles\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjHnL3Mva6CAxVaCjQIHdJRCxEQ0pQJegQIDxAB\u0026biw=1440\u0026bih=758\u0026dpr=2#imgrc=u6dinAhHDxTfaM"]}], "r": {"name": "Prik Nam Pla", "urls": ["https://www.hwcmagazine.com/wprm_print/13492", "https://youtu.be/Ohy1DELF4is?t=482", "https://www.google.com/search?sca_esv=581639650\u0026sxsrf=AM9HkKkIVmtaHAvtXzMyyTNYWk6-7CtF8g:1699767680259\u0026q=white+vinegar+thai+chilis\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjd-qCG4L2CAxWaLzQIHUzuAtoQ0pQJegQICBAB\u0026biw=1440\u0026bih=754\u0026dpr=2#imgrc=m_93K5cwN3hNnM", "https://www.hwcmagazine.com/recipe/prik-nam-pla/"]}}
{"products": [{"name": "Cumin seeds", "type": "Cumin"}, {"name": "Makrut lime zest", "type": "Makrut Lime", "urls": ["https://www.google.com/search?client=emacs\u0026sca_esv=579520937\u0026sxsrf=AM9HkKlUrnbTZeiuHkGuxjA6wsla9_IkfQ:1699140927441\u0026q=Makrut+Lime\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwir5pybwauCAxXfLTQIHYj1DqQQ0pQJegQICxAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}, {"name": "Shallots", "type": "Shallots"}, {"name": "Coriander seeds", "type": "Spice"}, {"name": "Spicy dried red chilies", "type": "Dry Chilies"}, {"name": "Cilantro roots", "type": "Cilantro"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Mild dried red chilies", "type": "Dry Chilies"}, {"name": "Galangal", "type": "Galangal"}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "White Peppercorns", "type": "White Peppercorns"}, {"name": "Shrimp Paste", "type": "Shrimp Paste"}], "r": {"name": "Vegan Thai Red Curry", "urls": ["https://hot-thai-kitchen.com/red-curry-paste/print/6752/"]}}
{"products": [{"name": "Extra Virgin Olive Oil", "type": "Olive Oil"}, {"name": "Morton Salt Kosher Coarse", "type": "Kosher Salt"}, {"name": "Black Pepper", "type": "Black Pepper"}, {"name": "Broccoli", "type": "Broccoli"}, {"name": "Spicy Red Pepper Flakes", "type": "Spicy Red Pepper Flakes"}], "r": {"name": "Roasted Broccoli", "urls": ["https://www.loveandlemons.com/roasted-broccoli/"]}}
{"products": [{"name": "Parsley", "type": "Parsley"}, {"name": "Rosemary", "type": "Rosemary"}, {"name": "Baking soda", "type": "Baking Soda"}, {"name": "Extra Virgin Olive Oil", "type": "Olive Oil"}, {"name": "Russet Potatoes", "type": "Russet Potatoe"}, {"name": "Garlic", "type": "Garlic"}], "r": {"name": "The Best Crispy Roast Potatoes Ever", "urls": ["https://www.seriouseats.com/the-best-roast-potatoes-ever-recipe"]}}
{"products": [{"name": "Tomatillos", "type": "Tomatillos"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Lime juice", "type": "Lime juice"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Salt", "type": "Salt"}, {"name": "White Onion", "type": "Onion"}, {"name": "Jalapeno Pepper", "type": "Pepper"}], "r": {"name": "Tomatillo Salsa Verde", "urls": ["https://www.simplyrecipes.com/recipes/tomatillo_salsa_verde/?print"]}}
{"products": [{"name": "Bell Pepper", "type": "Bell Pepper"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "Sweet White Miso", "type": "Miso"}, {"name": "Tamari", "type": "Tamari"}, {"name": "Peanut Oil", "type": "Oil"}, {"name": "Sriracha", "type": "Sriracha"}, {"name": "Honey", "type": "Honey"}, {"name": "Carrots", "type": "Carrots"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "Lime", "type": "Lime"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "Toasted Sesame Oil", "type": "Sesame Oil"}, {"name": "Tamari", "type": "Tamari"}, {"name": "Edamame", "type": "Edamame"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Bell Pepper", "type": "Bell Pepper"}, {"name": "Sesame Seeds", "type": "Sesame Seeds"}, {"name": "Tamari", "type": "Tamari"}, {"name": "Edamame", "type": "Edamame"}, {"name": "Sugar Snap Peas", "type": "Sugar Snap Peas"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Sesame Seeds", "type": "Sesame Seeds"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "Lime", "type": "Lime"}, {"name": "Sugar Snap Peas", "type": "Sugar Snap Peas"}, {"name": "Tamari", "type": "Tamari"}], "r": {"name": "Sugar Snap Pea and Carrot Soba Noodles", "urls": ["https://cookieandkate.com/sugar-snap-pea-and-carrot-soba-noodles/print/23556/"]}}
{"products": [{"name": "Romaine Lettuce", "type": "Romaine"}, {"name": "Dry rice noodles", "type": "Rice Noodles"}, {"name": "Carrots", "type": "Carrots"}, {"name": "Toasted Sesame Oil", "type": "Sesame Oil"}, {"name": "Rice Wine Vinegar", "type": "Rice Wine Vinegar"}, {"name": "Huy Fong Chili Garlic Sauce", "type": "Chili Garlic Sauce", "urls": ["https://www.google.com/search?client=emacs\u0026sca_esv=581269367\u0026sxsrf=AM9HkKkz3fh-g6VKFw7SQLjSbKO7bO0n2g:1699640340645\u0026q=Chili+Garlic+Sauce\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwjB3P_VhbqCAxW9FjQIHQ6rDewQ0pQJegQIDRAB\u0026biw=1440\u0026bih=754\u0026dpr=2"]}, {"name": "Lime juice", "type": "Lime juice"}, {"name": "Round Rice Paper Sheets", "type": "Round Rice Paper Sheets"}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}, {"name": "Three Crabs Fish Sauce", "type": "Three Crabs Fish Sauce"}, {"name": "Water", "type": "Water"}, {"name": "Cucumber", "type": "Cucumber"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Shredded Carrot", "type": "Shredded Carrot"}, {"name": "Frozen Shrimp", "type": "Shrimp"}, {"name": "Cilantro", "type": "Cilantro"}], "r": {"name": "Fresh Spring Rolls", "urls": ["https://youtu.be/HJPRPEJY2WM?t=265", "https://natashaskitchen.com/fresh-spring-rolls/", "https://natashaskitchen.com/wprm_print/72895", "https://www.youtube.com/shorts/lECNJqSXk64"]}}
{"products": [{"name": "Cooking Oil", "type": "Cooking Oil"}, {"name": "Thai-style Baked Tofu", "type": "Tofu"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Rice", "type": "Rice"}, {"name": "Corn Starch", "type": "Corn Starch"}, {"name": "Water", "type": "Water"}, {"name": "Water", "type": "Water"}, {"name": "Chicken Thighs", "type": "Chicken"}, {"name": "Red Onion", "type": "Red Onion"}, {"name": "Broccolini", "type": "Broccolini"}, {"name": "Sesame Seeds", "type": "Sesame Seeds"}, {"name": "Rice Wine Vinegar - Kikkoman Mirin", "type": "Vinegar"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Red Pepper", "type": "Bell Pepper"}, {"name": "Sake Wine", "type": "Sake Wine"}, {"name": "Soy sauce", "type": "Soy sauce"}], "r": {"name": "Chicken Teriyaki Recipe", "urls": ["https://www.youtube.com/watch?v=t-Hj2pILMz4", "https://prohomecooks.com/blogs/all/why-every-cook-should-master-chicken-teriyaki?_pos=1\u0026_sid=7db443900\u0026_ss=r"]}}
{"products": [{"name": "Garlic cloves", "type": "Garlic"}, {"name": "Thai basil", "type": "Herb", "urls": ["https://www.fredmeyer.com/p/simple-truth-organic-thai-basil/0001111001922"]}, {"name": "White Peppercorns", "type": "White Peppercorns"}, {"name": "Kaffir lime leaves", "type": "Kaffir Lime Leaves", "urls": ["https://www.wholefoodsmarket.com/product/kaffir-lime%20leaves-b07q8ldbvj", "https://www.youtube.com/watch?v=4Qz5nC-DcKk", "https://www.safeway.com/shop/marketplace/product-details.970537048.html", "https://photos.google.com/photo/AF1QipPI_6_YxYIuCSAvP93sDoRcyFDjekCQjNSb3Ln0", "https://photos.google.com/photo/AF1QipPd_yNuI9VcQAFOwMSuvBx40o_sl4gAmCgBYNIQ", "https://www.youtube.com/watch?v=SB3AV7oHKiE"]}, {"name": "Galangal", "type": "Galangal"}, {"name": "Thai Eggplant", "type": "Thai Eggplant"}, {"name": "Chicken Thighs", "type": "Chicken"}, {"name": "Fried shallots", "type": "Condiment"}, {"name": "Serranos", "type": "Serrano Peppers"}, {"name": "Lime", "type": "Lime"}, {"name": "Kaffir Lime", "type": "Kaffir Lime", "urls": ["https://www.google.com/search?sca_esv=579007228\u0026sxsrf=AM9HkKkqQcpTokvs8EUmjT-DnZNXV9I6Lw:1698970375605\u0026q=kaffir+lime\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwiH6eLtxaaCAxVnMDQIHZ94DUYQ0pQJegQIDhAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Shallots", "type": "Shallots"}, {"name": "Cilantro", "type": "Cilantro"}, {"name": "Palm Sugar", "type": "Sugar"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"comments": ["thaiShrimpPasteComment1", "thaiShrimpPasteComment2"], "name": "Thai shrimp paste", "search": ["shrimp paste kapi OR gabi OR gkabi"], "type": "Thai shrimp paste", "urls": ["https://www.eatingthaifood.com/thai-nam-prik-kapi-recipe/"]}, {"name": "Cumin seeds", "type": "Cumin"}, {"name": "Coriander seeds", "type": "Spice"}, {"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Chicken stock", "type": "Stock"}, {"name": "Snow peas", "type": "Snow Peas"}], "r": {"name": "The Best Green Curry", "urls": ["https://www.joshuaweissman.com/post/easy-authentic-thai-green-curry", "https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883"]}}
{"products": [{"name": "Coriander powder", "type": "Spice"}, {"name": "Red Bell Pepper", "type": "Bell Pepper"}, {"name": "Lime juice", "type": "Lime juice"}, {"name": "Salt", "type": "Salt"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Thai basil", "type": "Herb", "urls": ["https://www.fredmeyer.com/p/simple-truth-organic-thai-basil/0001111001922"]}, {"name": "Onion", "type": "Onion"}, {"name": "Garlic cloves", "type": "Garlic"}, {"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Chili powder", "type": "Spice"}, {"name": "Coconut Oil", "type": "Coconut Oil"}, {"name": "Chicken stock", "type": "Stock"}, {"name": "Thai Eggplant", "type": "Thai Eggplant"}, {"name": "Thai chilies", "type": "Pepper"}, {"name": "Turmeric", "type": "Turmeric"}], "r": {"name": "Thai Eggplant Recipe", "urls": ["https://www.myfoodchannel.com/thai-eggplant-recipe/", "https://www.youtube.com/watch?v=7a0IAC7pCgA"]}}
{"products": [{"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Lime juice", "type": "Lime juice"}, {"name": "Jasmine Rice", "type": "Jasmine Rice", "urls": ["https://photos.google.com/photo/AF1QipM0ragYoS8EjrRngQukQJH_U1hnen_ACdJyMqEV"]}, {"name": "Shrimp", "type": "Shrimp"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Kaffir lime leaves", "type": "Kaffir Lime Leaves", "urls": ["https://www.wholefoodsmarket.com/product/kaffir-lime%20leaves-b07q8ldbvj", "https://www.youtube.com/watch?v=4Qz5nC-DcKk", "https://www.safeway.com/shop/marketplace/product-details.970537048.html", "https://photos.google.com/photo/AF1QipPI_6_YxYIuCSAvP93sDoRcyFDjekCQjNSb3Ln0", "https://photos.google.com/photo/AF1QipPd_yNuI9VcQAFOwMSuvBx40o_sl4gAmCgBYNIQ", "https://www.youtube.com/watch?v=SB3AV7oHKiE"]}, {"name": "Sawtooth Coriander", "type": "Sawtooth Coriander", "urls": ["https://www.youtube.com/watch?v=hhcYNjeQ_XY\u0026list=PLaS2Ffd8cyD7SL49uWtqbfuUBmLi9nVup"]}, {"name": "Ka-Me Whole Peeled Straw Mushrooms", "type": "Straw Mushrooms", "urls": ["https://youtu.be/hhcYNjeQ_XY?list=PLaS2Ffd8cyD7SL49uWtqbfuUBmLi9nVup\u0026t=406", "https://www.qfc.com/p/ka-me-whole-peeled-straw-mushrooms/0007084400742"]}, {"name": "Mae Ploy Thai Chili Paste in Oil", "type": "Thai Chili Paste", "urls": ["https://youtu.be/hhcYNjeQ_XY?list=PLaS2Ffd8cyD7SL49uWtqbfuUBmLi9nVup\u0026t=433", "https://photos.google.com/photo/AF1QipNWHU8huzjTXkKBm0l9ehnPAJFm5J_jea8kU5KL"]}, {"name": "Galangal", "type": "Galangal"}, {"name": "Evaporated Milk", "type": "Evaporated Milk"}, {"name": "Thai chilies", "type": "Pepper"}, {"name": "Water", "type": "Water"}, {"name": "Oyster Mushrooms", "type": "Oyster Mushroom"}], "r": {"name": "Tom Yum Goong", "urls": ["https://hot-thai-kitchen.com/creamy-tom-yum/print/6203/", "https://hot-thai-kitchen.com/creamy-tom-yum/", "https://www.youtube.com/watch?v=hhcYNjeQ_XY\u0026list=PLaS2Ffd8cyD7SL49uWtqbfuUBmLi9nVup"]}}
{"products": [{"name": "Dry-Roasted Peanuts", "type": "Peanuts"}, {"name": "Rice paper", "type": "Rice Paper"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Adams Peanut Butter", "type": "Peanut Butter"}, {"name": "Romaine Lettuce", "type": "Romaine"}, {"name": "Lee Kum Kee Sauce Hoisin", "type": "Lee Kum Kee Sauce Hoisin"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Shrimp", "type": "Shrimp"}, {"name": "Water", "type": "Water"}, {"name": "Rice vermicelli", "type": "Rice vermicelli", "urls": ["https://photos.google.com/photo/AF1QipPPETrmRSh8-h9guEbb90DRig4g_njAUvQ50Ol6", "https://photos.google.com/photo/AF1QipMYLPcT9Oybki3TQGztAT1X5tIxpknKSJ0ZmdlP", "https://www.amazon.com/Fresh-Stick-Vermicelli-SIMPLY-FOOD/dp/B08NXVTFTP/ref=asc_df_B08NXVTFTP/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=652498065761\u0026hvpos=\u0026hvnetw=g\u0026hvrand=10598234170837115346\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-2065471401768\u0026psc=1", "https://www.amazon.com/Fresh-Stick-Vermicelli-SIMPLY-FOOD/dp/B08NXVTFTP/ref=asc_df_B08NXVTFTP/?tag=hyprod-20\u0026linkCode=df0\u0026hvadid=652498065761\u0026hvpos=\u0026hvnetw=g\u0026hvrand=10598234170837115346\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=9061293\u0026hvtargid=pla-2065471401768\u0026psc=1"]}, {"name": "Shallots", "type": "Shallots"}, {"name": "Mint leaves", "notes": ["added to frezer Nov 6 2023"], "type": "Mint", "urls": ["https://photos.google.com/photo/AF1QipNrbFzt7g3nCOVFOmFa6geW-HODg2hilRdq4xl0"]}, {"name": "Vegetable Oil", "type": "Vegetable Oil"}], "r": {"name": "Vietnamese Spring Rolls (G\u1ecfi Cu\u1ed1n)", "urls": ["https://christieathome.com/wprm_print/3534"]}}
{"products": [{"name": "Yellow Curry Powder", "type": "Spice", "urls": ["https://www.google.com/search?q=Yellow+Curry+Powder+near+me\u0026tbm=isch\u0026ved=2ahUKEwiVxLm7h6mCAxWIFjQIHTNwBKoQ2-cCegQIABAA\u0026oq=Yellow+Curry+Powder+near+me\u0026gs_lcp=CgNpbWcQAzIHCAAQGBCABDoECCMQJzoGCAAQBxAeOgYIABAIEB46BAgAEB46BggAEAUQHlDIBViIEGD3EWgAcAB4AIABS4gBkQSSAQE5mAEAoAEBqgELZ3dzLXdpei1pbWfAAQE\u0026sclient=img\u0026ei=QoxFZZWbEYit0PEPs-CR0Ao\u0026bih=758\u0026biw=1440\u0026client=emacs"]}, {"name": "Carrots", "type": "Carrots"}, {"name": "Maesri Thai Red Curry Paste", "type": "Curry Paste", "urls": ["https://www.wholefoodsmarket.com/product/maesri-red-curry-paste-b0013esw84", "https://www.safeway.com/shop/product-details.970519982.html?cmpid=ps_swy_sea_ecom_goo_20200924_71700000073186042_58700007112018081_92700063963421736\u0026r=https%3A%2F%2Fwww.google.com%2F"]}, {"name": "Russet Potatoes", "type": "Russet Potatoe"}, {"name": "Garlic", "type": "Garlic"}, {"name": "Yellow Onion", "type": "Onion"}, {"name": "Chicken Breast", "type": "Chicken"}, {"name": "Brown Sugar", "type": "Sugar"}, {"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Rice", "type": "Rice"}, {"name": "Coconut Oil", "type": "Coconut Oil"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Chicken Broth", "type": "Broth"}, {"name": "Cilantro", "type": "Cilantro"}], "r": {"name": "Yellow Coconut Curry Chicken", "urls": ["https://lifemadesimplebakes.com/wprm_print/25731"]}}
{"products": [{"name": "Curry Powder", "type": "Curry Powder"}, {"name": "Chicken", "type": "Chicken"}, {"name": "Shrimp Paste", "type": "Shrimp Paste"}, {"name": "Shallots", "type": "Shallots"}, {"name": "Fried shallots", "type": "Condiment"}, {"name": "Cumin seeds", "type": "Cumin"}, {"name": "Potatoes", "type": "Potatoe"}, {"name": "Full fat coconut milk", "type": "Coconut Milk"}, {"name": "Ginger", "type": "Ginger"}, {"name": "Sea Salt", "type": "Sea Salt"}, {"name": "Lemongrass", "type": "Lemongrass"}, {"name": "Fish sauce", "type": "Fish Sauce"}, {"name": "Coriander seeds", "type": "Spice"}, {"name": "Dried Thai Chilis", "type": "Thai Chilies"}, {"name": "Garlic", "type": "Garlic"}, {"brand": "Mae Ploy", "name": "Yellow Curry Paste", "type": "Curry Paste", "urls": ["https://www.safeway.com/shop/product-details.960076294.html", "https://www.safeway.com/shop/product-details.960076294.html", "https://youtu.be/GC7ccNKatVU?t=696"]}, {"name": "Galangal", "type": "Galangal"}], "r": {"name": "Yellow Curry with Chicken", "urls": ["https://www.templeofthai.com/recipes/yellow_chicken_curry.php"]}}
{"products": [{"name": "SWEET preserved daikon radish", "type": "Radish"}, {"name": "Japanese Nori", "type": "Nori", "urls": ["https://www.google.com/search?client=emacs\u0026sca_esv=577922779\u0026sxsrf=AM9HkKkUxzT-KjHg9ziVgvqz5Zsqmn7xdw:1698703946500\u0026q=Japanese+nori\u0026tbm=isch\u0026source=lnms\u0026sa=X\u0026ved=2ahUKEwi647yq5Z6CAxVxMjQIHRW8BBYQ0pQJegQIChAB\u0026biw=1440\u0026bih=758\u0026dpr=2"]}, {"name": "Ice-cold water", "type": "Water"}, {"name": "Sesame Seeds", "type": "Sesame Seeds"}, {"brand": "Kikkoman", "name": "Kikkoman Japanese Noodle Soup Base (Hon Tsuyu)", "type": "Tsuyu", "urls": ["https://www.amazon.com/Kikkoman-Japanese-Noodle-Soup-Tsuyu/dp/B002Z3F0IW", "https://www.google.com/search?q=kikkoman+japanese+noodle+soup+base(hon+tsuyu)\u0026oq=Kikkoman+Japanese+Noodle+Soup+Base(Hon+Tsuyu)\u0026gs_lcrp=EgZjaHJvbWUqBwgAEAAYgAQyBwgAEAAYgAQyBwgBEAAYgAQyCggCEAAYhgMYigUyCggDEAAYhgMYigUyBggEEEUYPDIGCAUQRRg9MgYIBhBFGD3SAQc0NzBqMGo0qAIAsAIA\u0026sourceid=chrome\u0026ie=UTF-8", "https://www.youtube.com/watch?v=61nPpDkz1AI"]}, {"name": "Scallions or Chives", "type": "Scalions"}, {"name": "Wasabi", "type": "Wasabi"}, {"name": "Soba Noodles", "type": "Soba Noodles"}], "r": {"name": "7-Minute Zaru Soba (Cold Soba Noodles)", "urls": ["https://drivemehungry.com/wprm_print/13748"]}}
{"products": [{"name": "Green Onion", "type": "Onion"}, {"name": "Soy sauce", "type": "Soy sauce"}, {"name": "Soba Noodles", "type": "Soba Noodles"}, {"name": "SWEET preserved daikon radish", "type": "Radish"}, {"name": "Mirin", "type": "Mirin"}, {"name": "Egg yolk", "type": "Egg yolk"}, {"name": "Toasted sesame flakes", "type": "Garnish"}, {"name": "Toasted Seaweed", "type": "Seaweed"}, {"name": "Wasabi", "type": "Wasabi"}, {"name": "Granulated Sugar", "type": "Granulated Sugar"}], "r": {"name": "10-Minute Zaru Soba (Cold Soba Noodles)", "urls": ["https://www.cookerru.com/wprm_print/7756"]}}
```

# locate products with vegetable types

``` example
MATCH (p:Product)
WHERE toLower(p.type) CONTAINS 'vegetable'
RETURN p.name AS ProductName, p.type AS Type;
```

Results:

``` example
{"ProductName": "Vegetable Oil", "Type": "Vegetable Oil"}
```

# locate products with pea-related types

``` example
MATCH (p:Product)
WHERE toLower(p.type) CONTAINS 'peas'
RETURN p.name AS ProductName, p.type AS Type;
```

Results:

``` example
{"ProductName": "Chickpeas", "Type": "Chickpeas"}
{"ProductName": "Frozen Peas", "Type": "Peas"}
{"ProductName": "Snow peas", "Type": "Snow Peas"}
{"ProductName": "Sugar Snap Peas", "Type": "Sugar Snap Peas"}
```

# what recipes call for chicken stock?

I made a recipe that calls for chicken stock but I could only buy 1 qt,
but recipe didn't call for 1qt. What other recipe can I make with the
leftovers?

``` example
MATCH (recipe:Recipe)-[:CONTAINS]->(ingredient:Product)
WHERE
  toLower(ingredient.name) CONTAINS 'chicken stock'
RETURN recipe, ingredient
ORDER BY toLower(recipe.name);
```

Results:

``` example
{"ingredient": {"name": "Chicken Stock or Water", "type": "Chicken Stock"}, "recipe": {"name": "Chicken Thai Red Curry", "urls": ["https://theflavoursofkitchen.com/wprm_print/104534"]}}
{"ingredient": {"name": "Chicken stock", "type": "Stock"}, "recipe": {"name": "Thai Eggplant Recipe", "urls": ["https://www.myfoodchannel.com/thai-eggplant-recipe/", "https://www.youtube.com/watch?v=7a0IAC7pCgA"]}}
{"ingredient": {"name": "Chicken stock", "type": "Stock"}, "recipe": {"name": "The Best Green Curry", "urls": ["https://www.joshuaweissman.com/post/easy-authentic-thai-green-curry", "https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883"]}}
```

# recipes that call for chicken stock

Loop over all recipes that call for chicken stock and show their
ingredients.

``` example
MATCH (recipe:Recipe)-[:CONTAINS]->(ingredient:Product)
WHERE toLower(ingredient.name) CONTAINS 'chicken stock'
WITH recipe
MATCH (recipe)-[:CONTAINS]->(allIngredients:Product)
RETURN recipe.name AS Recipe, recipe.urls AS RecipeURLs, COLLECT(DISTINCT allIngredients.name) AS AllIngredients
ORDER BY toLower(recipe.name);
```

Results:

``` example
{"AllIngredients": ["Full fat coconut milk", "Light Brown Sugar", "Cooking Oil", "Chicken Stock or Water", "Ginger", "Zucchini", "Garlic", "Thai basil", "Boneless Chicken Thighs", "Fish sauce", "Onion", "Lemongrass", "Red Bell Pepper", "Red Curry Paste", "Lemon Juice"], "Recipe": "Chicken Thai Red Curry", "RecipeURLs": ["https://theflavoursofkitchen.com/wprm_print/104534"]}
{"AllIngredients": ["Coriander powder", "Red Bell Pepper", "Lime juice", "Salt", "Ginger", "Lemongrass", "Thai basil", "Onion", "Garlic cloves", "Full fat coconut milk", "Chili powder", "Coconut Oil", "Chicken stock", "Thai Eggplant", "Thai chilies", "Turmeric"], "Recipe": "Thai Eggplant Recipe", "RecipeURLs": ["https://www.myfoodchannel.com/thai-eggplant-recipe/", "https://www.youtube.com/watch?v=7a0IAC7pCgA"]}
{"AllIngredients": ["Garlic cloves", "Thai basil", "White Peppercorns", "Kaffir lime leaves", "Galangal", "Thai Eggplant", "Chicken Thighs", "Fried shallots", "Serranos", "Lime", "Kaffir Lime", "Lemongrass", "Shallots", "Cilantro", "Palm Sugar", "Fish sauce", "Thai shrimp paste", "Cumin seeds", "Coriander seeds", "Full fat coconut milk", "Chicken stock", "Snow peas"], "Recipe": "The Best Green Curry", "RecipeURLs": ["https://www.joshuaweissman.com/post/easy-authentic-thai-green-curry", "https://photos.google.com/photo/AF1QipMJV_m1w-qezTjSZAmu6Vam_PKMR6GICW6TJ883"]}
```

# find recipes that contain either carrots or beans

``` example
MATCH (recipe:Recipe)-[:CONTAINS]->(ingredient:Product)
WHERE
  toLower(ingredient.name) CONTAINS 'carrots' OR
  toLower(ingredient.name) CONTAINS 'beans'
RETURN recipe, ingredient
ORDER BY toLower(recipe.name);
```

Results:

``` example
{"ingredient": {"name": "Black Beans", "type": "Black Beans"}, "recipe": {"name": "Easy Black Bean Soup", "urls": ["https://www.food.com/recipe/easy-black-bean-soup-59796?ftab=reviews#activity-feed"]}}
{"ingredient": {"name": "Carrots", "type": "Carrots"}, "recipe": {"name": "Fresh Spring Rolls", "urls": ["https://youtu.be/HJPRPEJY2WM?t=265", "https://natashaskitchen.com/fresh-spring-rolls/", "https://natashaskitchen.com/wprm_print/72895", "https://www.youtube.com/shorts/lECNJqSXk64"]}}
{"ingredient": {"name": "Carrots", "type": "Carrots"}, "recipe": {"name": "Sugar Snap Pea and Carrot Soba Noodles", "urls": ["https://cookieandkate.com/sugar-snap-pea-and-carrot-soba-noodles/print/23556/"]}}
{"ingredient": {"name": "Carrots", "type": "Carrots"}, "recipe": {"name": "Yellow Coconut Curry Chicken", "urls": ["https://lifemadesimplebakes.com/wprm_print/25731"]}}
```

# detecting unknown products in a recipe

Black Beans has cumin, but we don't have cumin listed in the
database…for example.

``` example
MATCH (recipe)-[:CONTAINS]->(product)
WHERE product.name IS NULL
RETURN recipe.name;
```

Results:

``` example
```

We're hoping for empty result list. If the result set is empty, then
I've already cleaned up the data.

# recipe with unknown products

``` example
MATCH (recipe)-[r:CONTAINS]->(product)
WHERE product.name IS NULL
RETURN DISTINCT recipe.name, r.quantity;
```

Results:

``` example
```

We're hoping for empty result list. If the result set is empty, then
I've already cleaned up the data.

# cleanup data, find recipes with unknown products

This is data cleanup task.

Find all recipes that have products whose product names are empty or
that the product by mistake doesn't yet exist. Its an error in the data.

Once you've found the recipes, then list all the products associated
with this recipe. We will need to compare that list.

``` example
MATCH (recipe)-[:CONTAINS]->(product)
WHERE product.name IS NULL
WITH recipe
MATCH (recipe)-[:CONTAINS]->(allProducts)
RETURN recipe.name, allProducts.name;
```

Results:

``` example
```

We're hoping for empty result list. If the result set is empty, then
I've already cleaned up the data.

# fix data for a single recipe

``` example
MATCH (recipe)-[:CONTAINS]->(product)
WHERE product.name IS NULL AND recipe.name = 'Chicken Thai Red Curry'
WITH recipe
MATCH (recipe)-[:CONTAINS]->(allProducts)
RETURN recipe, allProducts;
```

Results:

``` example
```

We're hoping for empty result list. If the result set is empty, then
I've already cleaned up the data.

# find stores for recipe ingredients

If I were to make Crispy Baked Tofu, Roasted Broccoli and Fresh Spring
Rolls, then where would I need to go to get the ingredients?

``` example
MATCH (store:Store)-[:PURCHASE_AT]-(purchasedProduct:Product)-[:CONTAINS]-(recipe:Recipe)
WHERE recipe.name IN ['Crispy Baked Tofu', 'Roasted Broccoli', 'Fresh Spring Rolls']
WITH DISTINCT recipe.name AS RecipeName, store.name AS StoreName, purchasedProduct.name AS ProductName
RETURN RecipeName, StoreName, ProductName
ORDER BY toLower(StoreName);
```

Results:

``` example
{"ProductName": "Water", "RecipeName": "Fresh Spring Rolls", "StoreName": "dummy place holder"}
{"ProductName": "Extra Virgin Olive Oil", "RecipeName": "Roasted Broccoli", "StoreName": "Grocery Outlet"}
{"ProductName": "Frozen Shrimp", "RecipeName": "Fresh Spring Rolls", "StoreName": "Grocery Outlet"}
{"ProductName": "Dry rice noodles", "RecipeName": "Fresh Spring Rolls", "StoreName": "M2M Mart"}
{"ProductName": "Toasted Sesame Oil", "RecipeName": "Fresh Spring Rolls", "StoreName": "M2M Mart"}
{"ProductName": "Huy Fong Chili Garlic Sauce", "RecipeName": "Fresh Spring Rolls", "StoreName": "M2M Mart"}
{"ProductName": "Round Rice Paper Sheets", "RecipeName": "Fresh Spring Rolls", "StoreName": "M2M Mart"}
{"ProductName": "Three Crabs Fish Sauce", "RecipeName": "Fresh Spring Rolls", "StoreName": "M2M Mart"}
{"ProductName": "Black Pepper", "RecipeName": "Crispy Baked Tofu", "StoreName": "Madison Co-op"}
{"ProductName": "Garlic Powder", "RecipeName": "Crispy Baked Tofu", "StoreName": "Madison Co-op"}
{"ProductName": "Black Pepper", "RecipeName": "Roasted Broccoli", "StoreName": "Madison Co-op"}
{"ProductName": "Spicy Red Pepper Flakes", "RecipeName": "Roasted Broccoli", "StoreName": "Madison Co-op"}
{"ProductName": "Tamari", "RecipeName": "Crispy Baked Tofu", "StoreName": "PCC"}
{"ProductName": "Avocado Oil", "RecipeName": "Crispy Baked Tofu", "StoreName": "PCC"}
{"ProductName": "Extra Virgin Olive Oil", "RecipeName": "Roasted Broccoli", "StoreName": "PCC"}
{"ProductName": "Huy Fong Chili Garlic Sauce", "RecipeName": "Fresh Spring Rolls", "StoreName": "QFC"}
{"ProductName": "Tamari", "RecipeName": "Crispy Baked Tofu", "StoreName": "Safeway"}
{"ProductName": "Extra Firm Tofu", "RecipeName": "Crispy Baked Tofu", "StoreName": "Safeway"}
{"ProductName": "Corn Starch", "RecipeName": "Crispy Baked Tofu", "StoreName": "Safeway"}
{"ProductName": "Morton Salt Kosher Coarse", "RecipeName": "Crispy Baked Tofu", "StoreName": "Safeway"}
{"ProductName": "Morton Salt Kosher Coarse", "RecipeName": "Roasted Broccoli", "StoreName": "Safeway"}
{"ProductName": "Broccoli", "RecipeName": "Roasted Broccoli", "StoreName": "Safeway"}
{"ProductName": "Romaine Lettuce", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Carrots", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Granulated Sugar", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Cucumber", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Shredded Carrot", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Cilantro", "RecipeName": "Fresh Spring Rolls", "StoreName": "Safeway"}
{"ProductName": "Extra Firm Tofu", "RecipeName": "Crispy Baked Tofu", "StoreName": "Trader Joe\u0027s"}
{"ProductName": "Garlic", "RecipeName": "Fresh Spring Rolls", "StoreName": "Trader Joe\u0027s"}
{"ProductName": "Dry rice noodles", "RecipeName": "Fresh Spring Rolls", "StoreName": "Uwajimaya"}
{"ProductName": "Rice Wine Vinegar", "RecipeName": "Fresh Spring Rolls", "StoreName": "Uwajimaya"}
{"ProductName": "Three Crabs Fish Sauce", "RecipeName": "Fresh Spring Rolls", "StoreName": "Uwajimaya"}
{"ProductName": "Avocado Oil", "RecipeName": "Crispy Baked Tofu", "StoreName": "Whole Foods"}
{"ProductName": "Toasted Sesame Oil", "RecipeName": "Fresh Spring Rolls", "StoreName": "Whole Foods"}
{"ProductName": "Lime juice", "RecipeName": "Fresh Spring Rolls", "StoreName": "Whole Foods"}
{"ProductName": "Frozen Shrimp", "RecipeName": "Fresh Spring Rolls", "StoreName": "Whole Foods"}
```
